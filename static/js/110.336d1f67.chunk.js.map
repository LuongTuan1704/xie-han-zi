{"version":3,"file":"static/js/110.336d1f67.chunk.js","mappings":"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","sources":["webpack://xie-han-zi/./src/components/Sidebar/Sidebar_Note/Sidebar_Note.module.scss?90f1","helper/index.js","components/Sidebar/Sidebar_Note/actions.js","webpack://xie-han-zi/./src/components/Sidebar/Sidebar_Note/List.module.scss?908c","components/Sidebar/Sidebar_Note/List.js","components/Sidebar/Sidebar_Note/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Sidebar_Note_wrapper__5iR0R\",\"Note_wrapper\":\"Sidebar_Note_Note_wrapper__2QWxm\",\"paginations-wrapper\":\"Sidebar_Note_paginations-wrapper__k4gZE\",\"pagination-input-wrraper\":\"Sidebar_Note_pagination-input-wrraper__UJtcw\",\"paginations-modify-page-input\":\"Sidebar_Note_paginations-modify-page-input__Qi7gP\",\"Item\":\"Sidebar_Note_Item__YmzOW\",\"folder-wrapper\":\"Sidebar_Note_folder-wrapper__Jh6cN\",\"item-btns\":\"Sidebar_Note_item-btns__gjxlN\",\"tippy-wrapper\":\"Sidebar_Note_tippy-wrapper__f4TrW\",\"create_subFolder_input\":\"Sidebar_Note_create_subFolder_input__QzxSi\",\"btn\":\"Sidebar_Note_btn__9EuOJ\",\"sub-folder-wrapper\":\"Sidebar_Note_sub-folder-wrapper__NM91g\",\"sub_item\":\"Sidebar_Note_sub_item__a8Bxi\",\"folder-lable\":\"Sidebar_Note_folder-lable__jIMzw\",\"create_group_wrapper\":\"Sidebar_Note_create_group_wrapper__LJY9V\",\"create_group_input_styles\":\"Sidebar_Note_create_group_input_styles__7fLRH\",\"create_folder_input_styles\":\"Sidebar_Note_create_folder_input_styles__KWZe+\"};","/**\r\n * @param {object} Obj Array of object\r\n * @param {array} path a array of string\r\n * @param {any} key key props in Obj\r\n * @return An object found by path\r\n * @author luong van tuan\r\n * @date 21:20 PM - 31/7/2022\r\n */\r\nexport function getObjByPath(Obj, path, key) {\r\n\t// path = path.split(\"/\");\r\n\tfunction deep(Obj, path, curr_pos) {\r\n\t\tlet i = 0;\r\n\t\tlet temp = undefined;\r\n\t\twhile (i < Obj.length) {\r\n\t\t\tif (Obj[i][key] === path[curr_pos]) {\r\n\t\t\t\t// nếu item hiện tại có children và  mảng path chưa duyệt hết thì đệ quy xuống tầng tiếp theo của obj\r\n\t\t\t\tif (Obj[i].children?.length && curr_pos !== path.length - 1) {\r\n\t\t\t\t\treturn deep(Obj[i].children, path, curr_pos + 1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttemp = Obj[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t}\r\n\t\t// nếu đã duyệt tới phần tử cuối cùng trong mảng path thì trả về obj tương ứng với path đó\r\n\t\tif (curr_pos === path.length - 1) {\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t}\r\n\treturn deep(Obj, path, 0);\r\n}\r\n\r\n/**\r\n *\r\n * @param {array} ArrayOfObj\r\n * @param {string} key\r\n * @returns Mảng chứa  giá trị ứng với key\r\n * @description Hàm nhận vào 1 mảng đối tượng có thể lông nhau và trả về một mảng chứa các [key] prop bên trong nó.\r\n */\r\nexport function getAllValueByKey(ArrayOfObj, key) {\r\n\tlet result = [];\r\n\tfor (let i = 0; i < ArrayOfObj.length; i++) {\r\n\t\tresult.push(ArrayOfObj[i][key]);\r\n\t\t// nếu item có children thì thực hiện đệ quy , trả kết quả từ dưới lên.\r\n\t\tif (ArrayOfObj[i].children) {\r\n\t\t\tresult.push(...getAllValueByKey(ArrayOfObj[i].children, key));\r\n\t\t}\r\n\t}\r\n\treturn result;\r\n}\r\n\r\n//console.log(getIDs(datas));\r\n","import { Db } from \"../../../database/Db_new\";\r\nimport { getObjByPath, getAllValueByKey } from \"./../../../helper\";\r\n\r\nexport async function reRenderPage(toPage, paginations, dispatchCallback) {\r\n\t// phan trang dua theo paginations.\r\n\tlet { itemPerPage: pageSize } = paginations;\r\n\tif (toPage - 1 < 0) toPage = 1;\r\n\tlet data = await Db.folders\r\n\t\t.orderBy(\"id\")\r\n\t\t.offset((toPage - 1) * pageSize)\r\n\t\t.limit(pageSize)\r\n\t\t.toArray();\r\n\tdispatchCallback({\r\n\t\ttype: \"go_to_page\",\r\n\t\tplayload: { data, toPage },\r\n\t});\r\n}\r\n\r\nexport async function RefeachDataAt({ db_name = \"folders\", paginations }) {\r\n\tlet { page: pageNo, itemPerPage: pageSize } = paginations;\r\n\tlet data = await Db[db_name]\r\n\t\t.orderBy(\"id\")\r\n\t\t.offset((pageNo - 1) * pageSize)\r\n\t\t.limit(pageSize)\r\n\t\t.toArray();\r\n\r\n\tlet toltalRecords = await Db[db_name].count();\r\n\tlet toltalPage = Math.ceil(toltalRecords / pageSize);\r\n\t// trả dữ liệu và thông tin phân trang mới.\r\n\treturn Promise.resolve({\r\n\t\tdata,\r\n\t\tpaginations: { toltalPage, toltalRecords },\r\n\t});\r\n}\r\n\r\n/**\r\n * @param metadata đối tượng chứa thông tin thực thi\r\n * @param value đối tượng chứa giá trị để cập nhật theo metadata\r\n * @return một mảng dữ liệu [{},{}]\r\n */\r\n\r\nexport async function Add(metadata, value) {\r\n\t// path là đường dẫn (tuyệt đối) dang đến item đang gọi hàm này. [dùng thông tin này để tìm kiếm và cập nhật chính xác đối tượn đích]\r\n\t// type là loại hành động [thêm file hoặc thêm group]\r\n\t// paginations chứa thông tin phân trang\r\n\t// dispatchCallback là một hàm callback kích hoạt hành động => load lại dữ liệu ,làm thay đổi trang thái của datas => re-render lại ui với data mới này.\r\n\t// value là giá trị cho đối tượng cập nhật\r\n\tlet { path, type, paginations } = metadata;\r\n\tlet { _id, name } = value;\r\n\r\n\t// chuyển path dạng string sang array\r\n\tlet copyPath = path;\r\n\tcopyPath = copyPath.split(\"/\");\r\n\t// xác định gốc để tìm  trong Db\r\n\tlet root = copyPath[0];\r\n\tlet result;\r\n\tswitch (type) {\r\n\t\tcase \"CREATE_FOLDER_AT_ROOT\":\r\n\t\t\tawait Db.folders.add({\r\n\t\t\t\t_id,\r\n\t\t\t\tpath: _id,\r\n\t\t\t\tisFolder: true,\r\n\t\t\t\tname,\r\n\t\t\t\tchildren: [],\r\n\t\t\t});\r\n\t\t\t// goi getDataFromDb voi dispatchCallback lam doi so\r\n\t\t\treturn RefeachDataAt({ db_name: \"folders\", paginations });\r\n\t\tcase \"CREATE_FILE_AT_ROOT\":\r\n\t\t\tawait Db.folders.add({\r\n\t\t\t\t_id,\r\n\t\t\t\tpath: _id,\r\n\t\t\t\tname,\r\n\t\t\t});\r\n\t\t\tawait Db.files.add({ _id, data: \"\" });\r\n\t\t\t// goi getDataFromDb voi dispatchCallback lam doi so\r\n\t\t\treturn RefeachDataAt({ db_name: \"folders\", paginations });\r\n\t\tcase \"CREATE_FOLDER\":\r\n\t\t\t// thêm một nhóm nếu không phải là root\r\n\t\t\t// nếu đang thêm vào 1 folders khác thì thực hiện tìm đến folders đó và push vào children array của folders đó\r\n\t\t\tif (!path) {\r\n\t\t\t\tawait Db.folders.add({\r\n\t\t\t\t\t_id,\r\n\t\t\t\t\tpath: _id,\r\n\t\t\t\t\tisFolder: true,\r\n\t\t\t\t\tname,\r\n\t\t\t\t\tchildren: [],\r\n\t\t\t\t});\r\n\t\t\t\t// goi getDataFromDb voi dispatchCallback lam doi so\r\n\t\t\t\treturn RefeachDataAt({ db_name: \"folders\", paginations });\r\n\t\t\t}\r\n\t\t\tresult = await Db.folders\r\n\t\t\t\t.where(\"_id\")\r\n\t\t\t\t.equals(root)\r\n\t\t\t\t.modify((obj) => {\r\n\t\t\t\t\tlet refObj = getObjByPath([obj], copyPath, \"_id\");\r\n\t\t\t\t\tconsole.log(\"refObj \", refObj);\r\n\t\t\t\t\trefObj.children.push({\r\n\t\t\t\t\t\t_id,\r\n\t\t\t\t\t\tpath: `${path}/${_id}`,\r\n\t\t\t\t\t\tisFolder: true,\r\n\t\t\t\t\t\tname,\r\n\t\t\t\t\t\tchildren: [],\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\treturn RefeachDataAt({ db_name: \"folders\", paginations });\r\n\t\t\t\t});\r\n\t\t\treturn result;\r\n\t\tcase \"CREATE_FILE\":\r\n\t\t\t// folder_ref chính là _id của item ko có children prop trong datas.\r\n\t\t\t// file_id là _id riêng của file , mục đích làm key cho react...\r\n\t\t\t// file_name là tên của file trong bảng Folders và files (trùng\r\n\r\n\t\t\t/* \tidiea code flow\r\n\t\t\t b1 : tìm folder dựa vào path\r\n\t\t\t b2 : cập nhật folder tại vị trí đã xác định bởi path\r\n\t\t\t b3 : thêm file liên kết với đối tượng vừa được cập nhật vào folder object\r\n\t\t\t*/\r\n\r\n\t\t\tresult = await Db.folders\r\n\t\t\t\t.where(\"_id\")\r\n\t\t\t\t.equals(root)\r\n\t\t\t\t.modify((obj) => {\r\n\t\t\t\t\tlet refObj = getObjByPath([obj], copyPath, \"_id\");\r\n\t\t\t\t\trefObj.children.push({\r\n\t\t\t\t\t\t_id,\r\n\t\t\t\t\t\tpath: `${path}/${_id}`,\r\n\t\t\t\t\t\tname,\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\treturn RefeachDataAt({ db_name: \"folders\", paginations });\r\n\t\t\t\t});\r\n\t\t\t// thêm một file liên kết với cái item trong folder (liên kết bởi _id)\r\n\t\t\tawait Db.files.add({ _id, data: \"\" });\r\n\t\t\treturn result;\r\n\t\tdefault:\r\n\t\t\tthrow new Error(\"invalid action type!\");\r\n\t}\r\n}\r\n\r\nexport async function Remove(metadata) {\r\n\tlet { path, type, paginations } = metadata;\r\n\tlet copyPath = path;\r\n\tcopyPath = copyPath.split(\"/\");\r\n\tlet length = copyPath.length - 1;\r\n\tlet root = copyPath[0];\r\n\tlet RootFolder = await Db.folders.where(\"_id\").equals(root).first();\r\n\t// mảng chứa các liên kết đến file trong thư mục\r\n\tlet deleteRefIDs;\r\n\tswitch (type) {\r\n\t\tcase \"DELETE_FOLDER\":\r\n\t\t\tconsole.log(\"delete folder at\", path, \"type\", type);\r\n\t\t\t// trường hợp xóa folder ở cấp cao nhất (root)\r\n\t\t\tif (root === copyPath[length]) {\r\n\t\t\t\tawait Db.folders.where(\"_id\").equals(root).delete();\r\n\t\t\t\tdeleteRefIDs = getAllValueByKey([RootFolder], \"_id\");\r\n\t\t\t} else {\r\n\t\t\t\t// tìm thư mục cần xóa , và cập nhật folder chứa folder cần xóa\r\n\t\t\t\tawait Db.folders\r\n\t\t\t\t\t.where(\"_id\")\r\n\t\t\t\t\t.equals(root)\r\n\t\t\t\t\t.modify((obj) => {\r\n\t\t\t\t\t\tlet updateFolder = getObjByPath(\r\n\t\t\t\t\t\t\t[obj],\r\n\t\t\t\t\t\t\tcopyPath.slice(0, length),\r\n\t\t\t\t\t\t\t\"_id\"\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\t// gán lại giá trị cho children bằng các item không có cùng _id với _id cần xóa.\r\n\t\t\t\t\t\tupdateFolder.children = updateFolder.children.filter(\r\n\t\t\t\t\t\t\t(item) => item._id !== copyPath[length]\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tdeleteRefIDs = getAllValueByKey([updateFolder], \"_id\");\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// xóa files liên kết nằm trong thư mục\r\n\t\t\tawait Db.files.where(\"_id\").anyOf(deleteRefIDs).delete();\r\n\t\t\treturn RefeachDataAt({\r\n\t\t\t\tdb_name: \"folders\",\r\n\t\t\t\tpaginations,\r\n\t\t\t});\r\n\t\tcase \"DELETE_FILE\":\r\n\t\t\t// la file o root\r\n\t\t\tif (root === copyPath[length]) {\r\n\t\t\t\tawait Db.folders.where(\"_id\").equals(root).delete();\r\n\t\t\t} else {\r\n\t\t\t\t// cần xác định file dó nằm trong thư mục nào rồi tiến hành cập nhật thư mục đó\r\n\t\t\t\t// thực hiện tìm đế thư mục chứa file cần xóa , chỉ cẩn duyệt đên path[length-2]\r\n\t\t\t\tawait Db.folders\r\n\t\t\t\t\t.where(\"_id\")\r\n\t\t\t\t\t.equals(root)\r\n\t\t\t\t\t.modify((obj) => {\r\n\t\t\t\t\t\tlet updateFolder = getObjByPath(\r\n\t\t\t\t\t\t\t[obj],\r\n\t\t\t\t\t\t\tcopyPath.slice(0, length),\r\n\t\t\t\t\t\t\t\"_id\"\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tupdateFolder.children = updateFolder.children.filter(\r\n\t\t\t\t\t\t\t(item) => item._id !== copyPath[length]\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t});\r\n\t\t\t\t// xoa file len ket thong qua _id cua no\r\n\t\t\t}\r\n\t\t\tawait Db.files.where(\"_id\").equals(copyPath[length]).delete();\r\n\t\t\treturn RefeachDataAt({\r\n\t\t\t\tdb_name: \"folders\",\r\n\t\t\t\tpaginations,\r\n\t\t\t});\r\n\r\n\t\tdefault:\r\n\t\t\tthrow new Error(\"invalid action type!\");\r\n\t}\r\n\r\n\t//\tlet refObj = getObjByPath([RootFolder], path, \"_id\");\r\n}\r\n\r\nexport async function Rename(metadata, newName) {\r\n\tlet { path, paginations } = metadata;\r\n\tlet copyPath = path;\r\n\tcopyPath = copyPath.split(\"/\");\r\n\tlet root = copyPath[0];\r\n\tlet length = copyPath.length - 1;\r\n\tif (root === copyPath[length]) {\r\n\t\tawait Db.folders\r\n\t\t\t.where(\"_id\")\r\n\t\t\t.equals(root)\r\n\t\t\t.modify((obj) => {\r\n\t\t\t\tobj.name = newName;\r\n\t\t\t});\r\n\t} else {\r\n\t\tawait Db.folders\r\n\t\t\t.where(\"_id\")\r\n\t\t\t.equals(root)\r\n\t\t\t.modify((obj) => {\r\n\t\t\t\tlet updateFolder = getObjByPath([obj], copyPath, \"_id\");\r\n\t\t\t\tupdateFolder.name = newName;\r\n\t\t\t});\r\n\t}\r\n\r\n\treturn RefeachDataAt({\r\n\t\tdb_name: \"folders\",\r\n\t\tpaginations,\r\n\t});\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"List_wrapper__vkZ3n\",\"item\":\"List_item__A5fJI\",\"main\":\"List_main__nuAi5\",\"title\":\"List_title__HdbVJ\",\"item_icon\":\"List_item_icon__OmPkR\"};","import { useState, useEffect, useContext } from \"react\";\r\nimport { nanoid } from \"nanoid\";\r\nimport { toast } from \"react-toastify\";\r\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\r\nimport { sidebarContext } from \"./../../../App\";\r\nimport { Add, Rename, Remove } from \"./actions\";\r\n\r\nimport Input from \"../../Input\";\r\nimport Confirm from \"../Confirm\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n\tfaFileEdit,\r\n\tfaTrashCan,\r\n\tfaFileCirclePlus,\r\n\tfaFolderPlus,\r\n\tfaFolder,\r\n\tfaFolderOpen,\r\n\tfaFile,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport sidebarStyles from \"./../Sidebar.module.scss\";\r\nimport styles from \"./List.module.scss\";\r\n\r\nfunction List({ dispatch, paginations, items }) {\r\n\tconsole.log(\"list folder - render!!!\");\r\n\t// đối tượng lưu thông tin ẩn hiện nội dung của item.\r\n\tconst [displayChildren, setDisplayChildren] = useState(() => {\r\n\t\tlet state = JSON.parse(localStorage.getItem(\"folders_state\")) || {};\r\n\t\treturn state;\r\n\t});\r\n\tconst [contentEditable, setContentEditable] = useState({});\r\n\t// hiển thỉ ô thêm group or file tùy vào context menu dc chọn\r\n\tconst [showInput, setShowInput] = useState({\r\n\t\ttype: \"CREATE_FILE\",\r\n\t\tisShow: false,\r\n\t});\r\n\r\n\tconst context = useContext(sidebarContext);\r\n\tuseEffect(() => {\r\n\t\tlocalStorage.setItem(\"folders_state\", JSON.stringify(displayChildren));\r\n\t}, [displayChildren]);\r\n\treturn (\r\n\t\t<ul className={styles[\"wrapper\"]}>\r\n\t\t\t{items.map((item) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<li\r\n\t\t\t\t\t\tclassName={styles[\"item\"]}\r\n\t\t\t\t\t\tkey={item._id}\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t// có 2 th\r\n\t\t\t\t\t\t\t// 1 . nếu item là một group (có children prop) => render children\r\n\t\t\t\t\t\t\t// 2. item không phải group thì thêm vào tab và mở file liên kết với item\r\n\t\t\t\t\t\t\tif (item.children) {\r\n\t\t\t\t\t\t\t\tsetDisplayChildren({\r\n\t\t\t\t\t\t\t\t\t...displayChildren,\r\n\t\t\t\t\t\t\t\t\t[item._id]: !displayChildren[item._id],\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t// mở file\r\n\t\t\t\t\t\t\t\t// có thể dùng custom event thay cho context (dispatch ở đây và bên MainContent thêm 1 custom event)\r\n\t\t\t\t\t\t\t\t// toast.info(`${item.name} current active!`, {\r\n\t\t\t\t\t\t\t\t// \tposition: toast.POSITION.BOTTOM_CENTER,\r\n\t\t\t\t\t\t\t\t// });\r\n\r\n\t\t\t\t\t\t\t\tcontext.onclickSubItem(item);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ContextMenuTrigger id={`#${item._id}`}>\r\n\t\t\t\t\t\t\t<div className={styles[\"main\"]}>\r\n\t\t\t\t\t\t\t\t<div className={styles[\"item_icon\"]}>\r\n\t\t\t\t\t\t\t\t\t{item.children ? (\r\n\t\t\t\t\t\t\t\t\t\tdisplayChildren[item._id] ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='#eab308'\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon={faFolderOpen}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='#ca8a04'\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon={faFolder}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='#f1f5f9'\r\n\t\t\t\t\t\t\t\t\t\t\ticon={faFile}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{/* xac dinh vi tri hien o input */}\r\n\t\t\t\t\t\t\t\t{contentEditable._id === item._id ? (\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\t\t\t\t\t\tstyleWrapper={\r\n\t\t\t\t\t\t\t\t\t\t\tsidebarStyles[\"input-wrraper\"]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tclassName={sidebarStyles[\"input\"]}\r\n\t\t\t\t\t\t\t\t\t\tonBlur={async (e) => {\r\n\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\tif (e.target.value) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlet newData = await Rename(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpath: item.path,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpaginations,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplayload: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpaginations:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewData.paginations,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: newData.data,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetContentEditable({});\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"renamed\");\r\n\t\t\t\t\t\t\t\t\t\t\t} else setContentEditable({});\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName={styles[\"title\"]}\r\n\t\t\t\t\t\t\t\t\t\ttitle={item.name}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</ContextMenuTrigger>\r\n\t\t\t\t\t\t<ContextMenu\r\n\t\t\t\t\t\t\tid={`#${item._id}`}\r\n\t\t\t\t\t\t\tclassName={sidebarStyles[\"context_menu_warpper\"]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{item.children && (\r\n\t\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\tsidebarStyles[\"context_menu_item\"]\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t// mở submenu và thêm ô input vào trong\r\n\r\n\t\t\t\t\t\t\t\t\t\t!displayChildren[item._id] &&\r\n\t\t\t\t\t\t\t\t\t\t\tsetDisplayChildren({\r\n\t\t\t\t\t\t\t\t\t\t\t\t...displayChildren,\r\n\t\t\t\t\t\t\t\t\t\t\t\t[item._id]:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!displayChildren[item._id],\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t// showAT xac dinh dung noi input can hien\r\n\t\t\t\t\t\t\t\t\t\tsetShowInput({\r\n\t\t\t\t\t\t\t\t\t\t\tshowAt: item._id,\r\n\t\t\t\t\t\t\t\t\t\t\ttype: \"CREATE_FILE\",\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder: \"create new file\",\r\n\t\t\t\t\t\t\t\t\t\t\tpath: item.path,\r\n\t\t\t\t\t\t\t\t\t\t\tisShow: true,\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faFileCirclePlus} />{\" \"}\r\n\t\t\t\t\t\t\t\t\t<span>new file</span>\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{item.children && (\r\n\t\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\tsidebarStyles[\"context_menu_item\"]\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonClick={(e, data) => {\r\n\t\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t// chỉ mở subfolder nếu nó chưa đc mở. (nếu ko có đều kiện  này (!displayChildren[item._id]&& ...) thì khi folder đang mở sẽ bị đóng khi click menu item này)\r\n\t\t\t\t\t\t\t\t\t\t!displayChildren[item._id] &&\r\n\t\t\t\t\t\t\t\t\t\t\tsetDisplayChildren({\r\n\t\t\t\t\t\t\t\t\t\t\t\t...displayChildren,\r\n\t\t\t\t\t\t\t\t\t\t\t\t[item._id]:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!displayChildren[item._id],\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\t\tsetShowInput({\r\n\t\t\t\t\t\t\t\t\t\t\tshowAt: item._id,\r\n\t\t\t\t\t\t\t\t\t\t\ttype: \"CREATE_FOLDER\",\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder: \"create new group\",\r\n\t\t\t\t\t\t\t\t\t\t\tpath: item.path,\r\n\t\t\t\t\t\t\t\t\t\t\tisShow: true,\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\tcolor='#ca8a04'\r\n\t\t\t\t\t\t\t\t\t\ticon={faFolderPlus}\r\n\t\t\t\t\t\t\t\t\t/>{\" \"}\r\n\t\t\t\t\t\t\t\t\t<span>new group</span>\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\tclassName={sidebarStyles[\"context_menu_item\"]}\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t\tsetContentEditable({ _id: item._id });\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\tcolor='#1db489'\r\n\t\t\t\t\t\t\t\t\ticon={faFileEdit}\r\n\t\t\t\t\t\t\t\t/>{\" \"}\r\n\t\t\t\t\t\t\t\t<span>rename</span>\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\tclassName={sidebarStyles[\"context_menu_item\"]}\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t\ttoast(\r\n\t\t\t\t\t\t\t\t\t\t<Confirm\r\n\t\t\t\t\t\t\t\t\t\t\tcustomMsg={`${item.name}`}\r\n\t\t\t\t\t\t\t\t\t\t\tfn={async () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlet type = item.isFolder\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"DELETE_FOLDER\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"DELETE_FILE\";\r\n\t\t\t\t\t\t\t\t\t\t\t\tlet newData = await Remove({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpath: item.path,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpaginations,\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplayload: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpaginations:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewData.paginations,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: newData.data,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\tcolor='#b91c1c'\r\n\t\t\t\t\t\t\t\t\ticon={faTrashCan}\r\n\t\t\t\t\t\t\t\t/>{\" \"}\r\n\t\t\t\t\t\t\t\t<span>remove</span>\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t</ContextMenu>\r\n\t\t\t\t\t\t{/* render nội dung nếu item là 1 group và chưa đc mở . nếu mở thì đóng */}\r\n\t\t\t\t\t\t{displayChildren[item._id] && item.children && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t{/* hiện ô input nếu khi click context menu item */}\r\n\t\t\t\t\t\t\t\t{showInput.isShow &&\r\n\t\t\t\t\t\t\t\t\tshowInput.showAt === item._id && (\r\n\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\t\t\t\t\t\t\tstyleWrapper={\r\n\t\t\t\t\t\t\t\t\t\t\t\tsidebarStyles[\"input-wrraper\"]\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={sidebarStyles[\"input\"]}\r\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={`${showInput.placeholder}`}\r\n\t\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t\t\tonBlur={async (e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (e.target.value) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet _id = nanoid(5);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// đoạn này ok , tra về kết quả mong muốn (th : thêm data ở root)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet newData = await Add(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpath: showInput.path,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: showInput.type,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpaginations,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_id,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: e.target\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplayload: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpaginations:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewData.paginations,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: newData.data,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetShowInput({});\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetShowInput({});\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\t\tdispatch={dispatch}\r\n\t\t\t\t\t\t\t\t\tpaginations={paginations}\r\n\t\t\t\t\t\t\t\t\titems={item.children}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</ul>\r\n\t);\r\n}\r\n\r\nexport default List;\r\n","import { nanoid } from \"nanoid\";\r\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\r\nimport { useState, useEffect, useReducer } from \"react\";\r\nimport Input from \"../../Input\";\r\n// import Item from \"./Item\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n\tfaFileCirclePlus,\r\n\tfaFolderPlus,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport sidebarStyles from \"./../Sidebar.module.scss\";\r\n\r\nimport styles from \"./Sidebar_Note.module.scss\";\r\nimport { RefeachDataAt, reRenderPage, Add } from \"./actions\";\r\nimport List from \"./List\";\r\nconst reducerFn = (state, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase \"go_to_page\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpaginations: {\r\n\t\t\t\t\t...state.paginations,\r\n\t\t\t\t\tpage: action.playload.toPage,\r\n\t\t\t\t},\r\n\t\t\t\tdatas: action.playload.data,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpaginations: {\r\n\t\t\t\t\t...state.paginations,\r\n\t\t\t\t\t...action.playload.paginations,\r\n\t\t\t\t},\r\n\t\t\t\tdatas: action.playload.data,\r\n\t\t\t};\r\n\t}\r\n};\r\nconst initState = {\r\n\tpaginations: {\r\n\t\tpage: 1,\r\n\t\titemPerPage: 5,\r\n\t\ttoltalPage: null,\r\n\t\ttoltalRecords: null,\r\n\t},\r\n\tdatas: [],\r\n};\r\nfunction SidebarNote() {\r\n\tconsole.log(\"note!!!\");\r\n\tconst [data, dispatch] = useReducer(reducerFn, initState);\r\n\tconst [showInput, setShowInput] = useState({});\r\n\t// sau khi mount , get data => re-render ui\r\n\tuseEffect(() => {\r\n\t\t(async () => {\r\n\t\t\tlet newData = await RefeachDataAt({\r\n\t\t\t\tdb_name: \"folders\",\r\n\t\t\t\tpaginations: data.paginations,\r\n\t\t\t});\r\n\t\t\tdispatch({\r\n\t\t\t\tplayload: {\r\n\t\t\t\t\tpaginations: newData.paginations,\r\n\t\t\t\t\tdata: newData.data,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t})();\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\treturn (\r\n\t\t<div className={styles.wrapper}>\r\n\t\t\t<ContextMenuTrigger id='#root-tree-folder'>\r\n\t\t\t\t<div style={{ marginLeft: \"-16px\" }}>\r\n\t\t\t\t\t<List\r\n\t\t\t\t\t\tdispatch={dispatch}\r\n\t\t\t\t\t\tpaginations={data.paginations}\r\n\t\t\t\t\t\titems={data.datas}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</ContextMenuTrigger>\r\n\t\t\t{showInput.isShow && (\r\n\t\t\t\t<Input\r\n\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\tstyleWrapper={sidebarStyles[\"input-wrraper\"]}\r\n\t\t\t\t\tclassName={sidebarStyles[\"input\"]}\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tplaceholder={`${showInput.placeholder}`}\r\n\t\t\t\t\tonBlur={async (e) => {\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\tlet _id = nanoid(5);\r\n\t\t\t\t\t\t// đoạn này ok , tra về kết quả mong muốn (th : thêm data ở root)\r\n\t\t\t\t\t\tif (e.target.value) {\r\n\t\t\t\t\t\t\tlet newData = await Add(\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tpath: \"\",\r\n\t\t\t\t\t\t\t\t\ttype: showInput.type,\r\n\t\t\t\t\t\t\t\t\tpaginations: data.paginations,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{ _id, name: e.target.value }\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\t\tplayload: {\r\n\t\t\t\t\t\t\t\t\tpaginations: newData.paginations,\r\n\t\t\t\t\t\t\t\t\tdata: newData.data,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tsetShowInput({});\r\n\t\t\t\t\t\t} else setShowInput({});\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<ContextMenu\r\n\t\t\t\tid='#root-tree-folder'\r\n\t\t\t\tclassName={sidebarStyles[\"context_menu_warpper\"]}\r\n\t\t\t>\r\n\t\t\t\t<MenuItem\r\n\t\t\t\t\tclassName={sidebarStyles[\"context_menu_item\"]}\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\tsetShowInput({\r\n\t\t\t\t\t\t\ttype: \"CREATE_FILE_AT_ROOT\",\r\n\t\t\t\t\t\t\tisShow: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FontAwesomeIcon icon={faFileCirclePlus} />\r\n\t\t\t\t\t<span>new file</span>\r\n\t\t\t\t</MenuItem>\r\n\t\t\t\t<MenuItem\r\n\t\t\t\t\tclassName={sidebarStyles[\"context_menu_item\"]}\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\tsetShowInput({\r\n\t\t\t\t\t\t\ttype: \"CREATE_FOLDER_AT_ROOT\",\r\n\t\t\t\t\t\t\tisShow: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FontAwesomeIcon color='#ca8a04' icon={faFolderPlus} />\r\n\t\t\t\t\t<span>new group</span>\r\n\t\t\t\t</MenuItem>\r\n\t\t\t</ContextMenu>\r\n\r\n\t\t\t<div className={styles[\"paginations-wrapper\"]}>\r\n\t\t\t\t<Input\r\n\t\t\t\t\tstyleWrapper={styles[\"pagination-input-wrraper\"]}\r\n\t\t\t\t\tclassName={styles[\"paginations-modify-page-input\"]}\r\n\t\t\t\t\ttype='number'\r\n\t\t\t\t\tmin={0}\r\n\t\t\t\t\tmax={data.paginations.toltalPage}\r\n\t\t\t\t\tonChangefn={(e) => {\r\n\t\t\t\t\t\tif (+e) reRenderPage(+e, data.paginations, dispatch);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tplaceholder={data.paginations.page}\r\n\t\t\t\t/>{\" \"}\r\n\t\t\t\tof {data.paginations.toltalPage}/\r\n\t\t\t\t{data.paginations.toltalRecords}\r\n\t\t\t\t<button\r\n\t\t\t\t\tstyle={{ marginLeft: \"8px\", cursor: \"pointer\" }}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\treRenderPage(\r\n\t\t\t\t\t\t\tdata.paginations.toltalPage,\r\n\t\t\t\t\t\t\tdata.paginations,\r\n\t\t\t\t\t\t\tdispatch\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tnew\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default SidebarNote;\r\n"],"names":["getObjByPath","Obj","path","key","deep","curr_pos","i","temp","undefined","length","_Obj$i$children","children","getAllValueByKey","ArrayOfObj","result","push","apply","_toConsumableArray","reRenderPage","_x","_x2","_x3","_reRenderPage","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","toPage","paginations","dispatchCallback","pageSize","data","wrap","_context","prev","next","itemPerPage","Db","offset","limit","toArray","sent","type","playload","stop","RefeachDataAt","_x4","_RefeachDataAt","_callee2","_ref","_ref$db_name","db_name","pageNo","toltalRecords","toltalPage","_context2","page","orderBy","count","Math","ceil","abrupt","Promise","resolve","Add","_x5","_x6","_Add","_callee3","metadata","value","_id","name","copyPath","root","_context3","split","t0","isFolder","equals","modify","obj","refObj","console","log","concat","then","Error","Remove","_x7","_Remove","_callee4","RootFolder","deleteRefIDs","_context4","first","delete","updateFolder","slice","filter","item","anyOf","Rename","_x8","_x9","_Rename","_callee5","newName","_context5","List","dispatch","items","_useState","useState","JSON","parse","localStorage","getItem","_useState2","_slicedToArray","displayChildren","setDisplayChildren","_useState3","_useState4","contentEditable","setContentEditable","_useState5","isShow","_useState6","showInput","setShowInput","context","useContext","sidebarContext","useEffect","setItem","stringify","_jsx","className","styles","map","_jsxs","onClick","e","stopPropagation","_objectSpread","_defineProperty","onclickSubItem","ContextMenuTrigger","id","FontAwesomeIcon","color","icon","faFolderOpen","faFolder","faFile","Input","tabIndex","styleWrapper","sidebarStyles","onBlur","_ref2","newData","target","autoFocus","title","ContextMenu","MenuItem","showAt","placeholder","faFileCirclePlus","faFolderPlus","faFileEdit","toast","Confirm","customMsg","fn","faTrashCan","_Fragment","_ref4","nanoid","reducerFn","state","action","datas","initState","_useReducer","useReducer","_useReducer2","style","marginLeft","min","max","onChangefn","cursor"],"sourceRoot":""}