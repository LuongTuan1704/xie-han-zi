"use strict";(self.webpackChunkxie_han_zi=self.webpackChunkxie_han_zi||[]).push([[413],{1981:function(e,n,t){t.d(n,{Z:function(){return h}});var r=t(3433),i=t(9439),c=t(7313),a="FormData_wrapper__NyJqU",s="FormData_form-btn-group__67+HP",o="FormData_btnSubmit__LpozE",u="FormData_btnReset__+Cuwk",l=t(259),d=t(1309),f=t(6535),p=t(6417);var h=function(e){var n=(0,c.useRef)(),t=(0,c.useState)(""),h=(0,i.Z)(t,2),x=h[0],m=h[1];return(0,p.jsx)("div",{id:"form-wrapper","data-f":!0,className:a,children:(0,p.jsxs)("form",{onReset:function(e){e.preventDefault(),n.current.focus(),m("")},onSubmit:function(t){t.preventDefault(),(0,r.Z)(x).filter((function(e){return/[\u4e00-\u9fa5]/g.test(e)})).length>0&&("PinyinScreen"===e.type?(0,f.X$)("toPinyin",x):(0,f.X$)("emitData",x)),m(""),n.current.focus()},children:[(0,p.jsx)("textarea",{tabIndex:1,className:"textarea",ref:n,spellCheck:!1,value:x,onChange:function(e){m(e.target.value)},onFocus:e.isFocus,onBlur:e.isHide}),(0,p.jsxs)("div",{className:s,children:[(0,p.jsx)("button",{type:"submit",tabIndex:2,disabled:!(x.trim().length>0),className:"".concat(x&&o),children:(0,p.jsx)(l.G,{icon:d.XCy})}),(0,p.jsx)("button",{type:"reset",tabIndex:3,disabled:!(x.trim().length>0),className:"".concat(x&&u),children:(0,p.jsx)(l.G,{icon:d.g82})})]})]})})}},4413:function(e,n,t){t.r(n),t.d(n,{default:function(){return _}});var r=t(9439),i=t(7313),c=t(72),a=t(4491),s=t(3304),o=t(259),u=t(1309),l=t(6169),d=t(6535),f=t(7241),p=t(1981),h=t(4165),x=t(5861),m=t(6417),v={behavior:"smooth",block:"center"};function b(e,n,t){return e[n].scrollIntoView(v),e[n].style.borderColor="var(--LimeGreen)",(0,f.wr)(t)}var y=function(e){return new Promise(function(){var n=(0,x.Z)((0,h.Z)().mark((function n(t){var r,i;return(0,h.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=(0,h.Z)().mark((function n(t){return(0,h.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b(e,t,e[t].dataset.character).then((function(){e[t].style.borderColor="transparent"}));case 2:case"end":return n.stop()}}),n)})),i=0;case 2:if(!(i<e.length)){n.next=7;break}return n.delegateYield(r(i),"t0",4);case 4:i++,n.next=2;break;case 7:t(!0);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())};function j(e){var n=e.refId,t=(0,i.useState)(!1),c=(0,r.Z)(t,2),a=c[0],s=c[1];return(0,m.jsx)("button",{disabled:a,onClick:function(){!function(e){var n=e.id,t=e.toggleTextToSpeechBtn;t();var r=Array.from(document.querySelector("#".concat(n)).childNodes);y(r).then(t)}({id:n,toggleTextToSpeechBtn:function(){return s((function(e){return!e}))}})},children:(0,m.jsx)(o.G,{icon:u.AQZ})})}var Z=t(6250);var _=function(e){var n=(0,i.useRef)(null),t=(0,i.useRef)(null),h=(0,i.useState)(""),x=(0,r.Z)(h,2),v=x[0],b=x[1],y=(0,i.useState)(""),_=(0,r.Z)(y,2),N=_[0],g=_[1],w=function(e){var n=e.detail;n.length&&(g(n.replace(/"\n"/g,"")),b((0,f.OL)(n.replace(/"\n"/g,""),{pinyin:c.ZP})))};return(0,s.Z)(["Escape"],(function(){return n.current.children[0].style.display="none"}),l.c),(0,s.Z)(["f"],(function(){return n.current.children[0].style.display="flex"}),l.c),(0,i.useEffect)((function(){return(0,d.on)("toPinyin",w),function(){(0,d.S1)("toPinyin",w)}})),(0,m.jsxs)("div",{className:Z.Z.p_wp,children:[(0,m.jsxs)("div",{className:Z.Z.hanzi_,children:[(0,m.jsx)("div",{className:Z.Z.form_Wrapper,ref:n,children:(0,m.jsx)(p.Z,{type:"PinyinScreen",isFocus:function(){t.current&&clearTimeout(t.current),t.current=null},isHide:function(){t.current||(t.current=setTimeout((function(){n.current.children[0].style.display="none"}),3e3))}})}),(0,m.jsx)("div",{className:Z.Z["text-wrapper"],id:"text-wrapper-id",children:v&&v.map((function(e,n){return(0,m.jsxs)("div",{className:Z.Z.char_wrapper,"data-character":e.hanzi,children:[(0,m.jsx)("span",{className:Z.Z.char_hanzi,children:e.hanzi}),(0,m.jsx)("span",{className:Z.Z.char_pinyin,children:e.pinyin})]},n)}))})]}),(0,m.jsxs)("div",{className:Z.Z.btns,children:[(0,m.jsx)("button",{onClick:function(){!function(e){var n=e.map((function(e){return e.pinyin}));navigator.clipboard.writeText(n.join(" ")).then(a.Am.success("copied!",{position:a.Am.POSITION.BOTTOM_CENTER}),(function(e){a.Am.error("Could not copy text: "+e,{position:a.Am.POSITION.BOTTOM_CENTER})}))}(v)},title:"copy to clipboard",children:(0,m.jsx)(o.G,{icon:u.kZ_})}),(0,m.jsx)("button",{onClick:function(){return(0,f.rU)(N)},title:"text to speech",children:(0,m.jsx)(o.G,{icon:u.j1t})}),(0,m.jsx)(j,{refId:"text-wrapper-id"}),(0,m.jsx)("button",{onClick:function(){b(""),g("")},children:"reset"})]})]})}}}]);