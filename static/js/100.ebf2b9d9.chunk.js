"use strict";(self.webpackChunkxie_han_zi=self.webpackChunkxie_han_zi||[]).push([[100],{1981:function(e,n,t){t.d(n,{Z:function(){return x}});var r=t(9439),i=t(4165),a=t(5861),c=t(7313),s="FormData_wrapper__NyJqU",o="FormData_form-btn-group__67+HP",u="FormData_btnSubmit__LpozE",l="FormData_btnReset__+Cuwk",d=t(259),f=t(1309),p=t(6535),h=t(6417);function m(e,n,t){var r=new SpeechSynthesisUtterance(t);return r.lang="zh-CN",speechSynthesis.speak(r),e[n].scrollIntoView({behavior:"smooth",block:"center"}),e[n].style.borderColor="var(--LimeGreen)",new Promise((function(e){r.onend=function(){e(!0)}}))}var v=function(e){return new Promise(function(){var n=(0,a.Z)((0,i.Z)().mark((function n(t){var r,a;return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=(0,i.Z)().mark((function n(t){return(0,i.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,m(e,t,e[t].dataset.character).then((function(){e[t].style.borderColor="transparent"}));case 2:case"end":return n.stop()}}),n)})),a=0;case 2:if(!(a<e.length)){n.next=7;break}return n.delegateYield(r(a),"t0",4);case 4:a++,n.next=2;break;case 7:t(!0);case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())};var x=function(e){var n=(0,c.useRef)(),t=(0,c.useState)(""),i=(0,r.Z)(t,2),a=i[0],m=i[1],x=(0,c.useState)(!1),b=(0,r.Z)(x,2),y=b[0],_=b[1];return(0,h.jsx)("div",{id:"form-wrapper",className:s,"data-f":!0,children:(0,h.jsxs)("form",{onReset:function(e){e.preventDefault(),n.current.focus(),m("")},onSubmit:function(t){t.preventDefault(),"PinyinScreen"===e.type?(0,p.X$)("toPinyin",a):(0,p.X$)("emitData",a),m(""),n.current.focus()},children:[(0,h.jsx)("textarea",{ref:n,className:"textarea",spellCheck:!1,value:a,onChange:function(e){m(e.target.value)},onFocus:function(){e.isFocus()},onBlur:function(){e.isHide()},tabIndex:1}),(0,h.jsxs)("div",{className:o,children:[(0,h.jsx)("button",{type:"submit",tabIndex:2,disabled:!(a.trim().length>0)||y,className:"".concat(a&&u),children:(0,h.jsx)(d.G,{icon:f.XCy})}),(0,h.jsx)("button",{type:"reset",tabIndex:3,disabled:!(a.trim().length>0)||y,className:"".concat(a&&l),children:(0,h.jsx)(d.G,{icon:f.g82})}),(0,h.jsx)("button",{disabled:y,onClick:function(){!function(e){var n=e.id,t=e.fn;t();var r=Array.from(document.querySelector("#".concat(n)).childNodes);v(r).then((function(){t()}))}({id:e.ttsp,fn:function(){return _((function(e){return!e}))}})},children:(0,h.jsx)(d.G,{icon:f.AQZ})})]})]})})}},2100:function(e,n,t){t.r(n),t.d(n,{default:function(){return u}});var r=t(7313),i=t(3304),a=t(6250),c=t(1981),s=t(6417),o=(0,r.lazy)((function(){return Promise.resolve().then(t.bind(t,1835))}));function u(e){var n=(0,r.useRef)(null),t=(0,r.useRef)(null);return(0,i.Z)(["Escape"],(function(e){n.current.children[0].style.display="none"}),{overrideSystem:!1,ignoreInputFields:!0,repeatOnHold:!1}),(0,i.Z)(["f"],(function(e){n.current.children[0].style.display="flex"}),{overrideSystem:!1,ignoreInputFields:!0,repeatOnHold:!1}),(0,s.jsxs)("div",{className:a.Z.view_char_wrapper,children:[(0,s.jsx)("div",{className:a.Z.form_Wrapper,ref:n,children:(0,s.jsx)(c.Z,{ttsp:"App-view-id",isFocus:function(){t.current&&clearTimeout(t.current),t.current=null},isHide:function(){t.current||(t.current=setTimeout((function(){n.current.children[0].style.display="none"}),3e3))}})}),(0,s.jsx)("div",{id:"App-view-id",className:a.Z["App-viewer"],children:e.ArrayOfHanzi.map((function(n){var t=n.Char_id,r=n.char;return(0,s.jsx)(o,{character:r,options:e.hanziComponentOptions},t)}))})]})}}}]);