"use strict";(self.webpackChunkxie_han_zi=self.webpackChunkxie_han_zi||[]).push([[793],{8793:function(e,n,t){t.r(n);var i=t(1413),s=t(3433),a=t(9439),r=t(7313),c=t(4491),o=t(6535),l=t(72),p=t(4346),u=t(1835),h=t(1981),d=t(259),x=t(1309),m=t(6250),f=t(6417);n.default=function(e){var n=(0,r.useRef)(),t=(0,r.useState)(""),j=(0,a.Z)(t,2),Z=j[0],y=j[1],v=function(e){var n=e.detail;n.length&&y((0,s.Z)(n.replace(/"\n"/g,"")).join(" ").split(/\s+/).filter(Boolean))};return(0,r.useEffect)((function(){return(0,o.on)("toPinyin",v),function(){(0,o.S1)("toPinyin",v)}})),(0,f.jsxs)("div",{className:m.Z.p_wp,children:[(0,f.jsxs)("div",{className:m.Z.hanzi_,children:[(0,f.jsx)(h.Z,{type:"PinyinScreen",ttsp:"text-wrapper-id"}),(0,f.jsx)("div",{className:m.Z["text-wrapper"],id:"text-wrapper-id",ref:n,children:Z&&Z.map((function(n,t){return(0,f.jsxs)("div",{className:m.Z.char_wrapper,"data-character":n,children:[(0,f.jsx)("span",{className:m.Z.char_pinyin,children:(0,l.ZP)(n)[0]}),!["\uff0c","\u3002","\uff1f","\u300a","\u300b","\uff01"].includes(n)&&(0,f.jsx)(p.ZP,{interactive:!0,hideOnClick:!0,placement:"bottom-start",render:function(t){return(0,f.jsx)("div",(0,i.Z)((0,i.Z)({className:"tippy-wrapper",tabIndex:"-1"},t),{},{children:(0,f.jsx)(u.default,{character:n,options:e.hanziComponentOptions})}))},children:(0,f.jsx)("span",{className:m.Z.char_hanzi,children:n})})]},t)}))})]}),(0,f.jsxs)("div",{className:m.Z.btns,children:[(0,f.jsx)("button",{onClick:function(){var e;e=(0,l.ZP)(Z,{segment:"segmentit",group:!0}),navigator.clipboard.writeText(e.join(" ")).then(c.Am.success("to clipboard",{position:c.Am.POSITION.BOTTOM_CENTER}),(function(e){c.Am.error("Could not copy text: "+e,{position:c.Am.POSITION.BOTTOM_CENTER})}))},title:"copy pinyins to clipboard",children:(0,f.jsx)(d.G,{icon:x.kZ_})}),(0,f.jsx)("button",{onClick:function(){var e=new SpeechSynthesisUtterance(Z);speechSynthesis.speaking||(e.lang="zh-CN",e.volume=1,speechSynthesis.speak(e))},title:"text to speech",children:(0,f.jsx)(d.G,{icon:x.AQZ})}),(0,f.jsx)("button",{onClick:function(){return y("")},children:"reset"}),(0,f.jsx)("label",{className:m.Z["slide-input"],style:{marginLeft:"auto"},children:(0,f.jsx)("input",{onChange:function(e){n.current.style.setProperty("--hanzi_size","".concat(e.target.value,"rem"))},type:"range",defaultValue:2.5,step:.5,min:1,max:5})})]})]})}}}]);