"use strict";(self.webpackChunkxie_han_zi=self.webpackChunkxie_han_zi||[]).push([[793],{8793:function(e,n,t){t.r(n);var i=t(1413),s=t(3433),r=t(9439),c=t(7313),a=t(4491),l=t(6535),o=t(72),u=t(4346),p=t(1835),d=t(1981),h=t(259),f=t(1309),x=t(6250),m=t(6417);n.default=function(e){var n=(0,c.useRef)(),t=(0,c.useState)(""),y=(0,r.Z)(t,2),j=y[0],Z=y[1],v=(0,c.useRef)(null),b=(0,c.useRef)(null),N=function(e){var n=e.detail;n.length&&Z((0,s.Z)(n.replace(/"\n"/g,"")).join(" ").split(/\s+/).filter(Boolean))};return(0,c.useEffect)((function(){return(0,l.on)("toPinyin",N),function(){(0,l.S1)("toPinyin",N)}})),(0,m.jsxs)("div",{className:x.Z.p_wp,children:[(0,m.jsxs)("div",{className:x.Z.hanzi_,children:[(0,m.jsxs)("div",{className:x.Z.form_Wrapper,ref:v,children:[(0,m.jsx)("button",{style:{display:"none"},className:x.Z.sh_f_btn,onClick:function(){v.current.children[0].style.display="none",v.current.children[1].style.display="flex"},children:(0,m.jsx)(h.G,{color:"var(--text-color)",icon:f.ccb})}),(0,m.jsx)(d.Z,{type:"PinyinScreen",ttsp:"text-wrapper-id",isFocus:function(){v.current.children[0].style.display="none",b.current&&clearTimeout(b.current),b.current=null},isHide:function(){b.current||(b.current=setTimeout((function(){v.current.children[0].style.display="block",v.current.children[1].style.display="none"}),3e3))}})]}),(0,m.jsx)("div",{className:x.Z["text-wrapper"],id:"text-wrapper-id",ref:n,children:j&&j.map((function(n,t){return(0,m.jsxs)("div",{className:x.Z.char_wrapper,"data-character":n,children:[(0,m.jsx)("span",{className:x.Z.char_pinyin,children:(0,o.ZP)(n)[0]}),!["\uff0c","\u3002","\uff1f","\u300a","\u300b","\uff01"].includes(n)&&(0,m.jsx)(u.ZP,{interactive:!0,hideOnClick:!0,placement:"bottom-start",render:function(t){return(0,m.jsx)("div",(0,i.Z)((0,i.Z)({className:"tippy-wrapper",tabIndex:"-1"},t),{},{children:(0,m.jsx)(p.default,{character:n,options:e.hanziComponentOptions})}))},children:(0,m.jsx)("span",{className:x.Z.char_hanzi,children:n})})]},t)}))})]}),(0,m.jsxs)("div",{className:x.Z.btns,children:[(0,m.jsx)("button",{onClick:function(){var e;e=(0,o.ZP)(j,{segment:"segmentit",group:!0}),navigator.clipboard.writeText(e.join(" ")).then(a.Am.success("to clipboard",{position:a.Am.POSITION.BOTTOM_CENTER}),(function(e){a.Am.error("Could not copy text: "+e,{position:a.Am.POSITION.BOTTOM_CENTER})}))},title:"copy pinyins to clipboard",children:(0,m.jsx)(h.G,{icon:f.kZ_})}),(0,m.jsx)("button",{onClick:function(){var e=new SpeechSynthesisUtterance(j);speechSynthesis.speaking||(e.lang="zh-CN",e.volume=1,speechSynthesis.speak(e))},title:"text to speech",children:(0,m.jsx)(h.G,{icon:f.AQZ})}),(0,m.jsx)("button",{onClick:function(){return Z("")},children:"reset"}),(0,m.jsx)("label",{className:x.Z["slide-input"],style:{marginLeft:"auto"},children:(0,m.jsx)("input",{onChange:function(e){n.current.style.setProperty("--hanzi_size","".concat(e.target.value,"rem"))},type:"range",defaultValue:2.5,step:.5,min:1,max:5})})]})]})}}}]);