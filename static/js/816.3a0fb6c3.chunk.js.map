{"version":3,"file":"static/js/816.3a0fb6c3.chunk.js","mappings":"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","sources":["webpack://xie-han-zi/./src/components/Sidebar/Sidebar_Note/Sidebar_Note.module.scss?90f1","helper/index.js","components/Sidebar/Sidebar_Note/actions.js","webpack://xie-han-zi/./src/components/Sidebar/Sidebar_Note/List.module.scss?908c","components/Sidebar/Sidebar_Note/List.js","components/Sidebar/Sidebar_Note/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Sidebar_Note_wrapper__5iR0R\",\"Note_wrapper\":\"Sidebar_Note_Note_wrapper__2QWxm\",\"paginations-wrapper\":\"Sidebar_Note_paginations-wrapper__k4gZE\",\"pagination-input-wrraper\":\"Sidebar_Note_pagination-input-wrraper__UJtcw\",\"paginations-modify-page-input\":\"Sidebar_Note_paginations-modify-page-input__Qi7gP\",\"Item\":\"Sidebar_Note_Item__YmzOW\",\"folder-wrapper\":\"Sidebar_Note_folder-wrapper__Jh6cN\",\"item-btns\":\"Sidebar_Note_item-btns__gjxlN\",\"tippy-wrapper\":\"Sidebar_Note_tippy-wrapper__f4TrW\",\"create_subFolder_input\":\"Sidebar_Note_create_subFolder_input__QzxSi\",\"btn\":\"Sidebar_Note_btn__9EuOJ\",\"sub-folder-wrapper\":\"Sidebar_Note_sub-folder-wrapper__NM91g\",\"sub_item\":\"Sidebar_Note_sub_item__a8Bxi\",\"folder-lable\":\"Sidebar_Note_folder-lable__jIMzw\",\"create_group_wrapper\":\"Sidebar_Note_create_group_wrapper__LJY9V\",\"create_group_input_styles\":\"Sidebar_Note_create_group_input_styles__7fLRH\",\"create_folder_input_styles\":\"Sidebar_Note_create_folder_input_styles__KWZe+\"};","/**\r\n * @param {object} Obj Array of object\r\n * @param {array} path a array of string\r\n * @param {any} key key props in Obj\r\n * @return An object found by path\r\n * @author luong van tuan\r\n * @date 21:20 PM - 31/7/2022\r\n */\r\nexport function getObjByPath(Obj, path, key) {\r\n\t// path = path.split(\"/\");\r\n\tfunction deep(Obj, path, curr_pos) {\r\n\t\tlet i = 0;\r\n\t\tlet temp = undefined;\r\n\t\twhile (i < Obj.length) {\r\n\t\t\tif (Obj[i][key] === path[curr_pos]) {\r\n\t\t\t\t// nếu item hiện tại có children và  mảng path chưa duyệt hết thì đệ quy xuống tầng tiếp theo của obj\r\n\t\t\t\tif (Obj[i].children?.length && curr_pos !== path.length - 1) {\r\n\t\t\t\t\treturn deep(Obj[i].children, path, curr_pos + 1);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttemp = Obj[i];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ti++;\r\n\t\t}\r\n\t\t// nếu đã duyệt tới phần tử cuối cùng trong mảng path thì trả về obj tương ứng với path đó\r\n\t\tif (curr_pos === path.length - 1) {\r\n\t\t\treturn temp;\r\n\t\t}\r\n\t}\r\n\treturn deep(Obj, path, 0);\r\n}\r\n\r\n/**\r\n *\r\n * @param {array} ArrayOfObj\r\n * @param {string} key\r\n * @returns Mảng chứa  giá trị ứng với key\r\n * @description Hàm nhận vào 1 mảng đối tượng có thể lông nhau và trả về một mảng chứa các [key] prop bên trong nó.\r\n */\r\nexport function getAllValueByKey(ArrayOfObj, key) {\r\n\tlet result = [];\r\n\tfor (let i = 0; i < ArrayOfObj.length; i++) {\r\n\t\tresult.push(ArrayOfObj[i][key]);\r\n\t\t// nếu item có children thì thực hiện đệ quy , trả kết quả từ dưới lên.\r\n\t\tif (ArrayOfObj[i].children) {\r\n\t\t\tresult.push(...getAllValueByKey(ArrayOfObj[i].children, key));\r\n\t\t}\r\n\t}\r\n\treturn result;\r\n}\r\n\r\n//console.log(getIDs(datas));\r\n","import { Db } from \"../../../database/Db_new\";\r\nimport { getObjByPath, getAllValueByKey } from \"./../../../helper\";\r\n\r\nexport async function reRenderPage(toPage, paginations, dispatchCallback) {\r\n\t// phan trang dua theo paginations.\r\n\tlet { itemPerPage: pageSize } = paginations;\r\n\tif (toPage - 1 < 0) toPage = 1;\r\n\tlet data = await Db.folders\r\n\t\t.orderBy(\"id\")\r\n\t\t.reverse()\r\n\t\t.offset((toPage - 1) * pageSize)\r\n\t\t.limit(pageSize)\r\n\t\t.toArray();\r\n\tdispatchCallback({\r\n\t\ttype: \"go_to_page\",\r\n\t\tplayload: { data, toPage },\r\n\t});\r\n}\r\n\r\nexport async function RefeachDataAt({ db_name = \"folders\", paginations }) {\r\n\tlet { page: pageNo, itemPerPage: pageSize } = paginations;\r\n\tlet data = await Db[db_name]\r\n\t\t.orderBy(\"id\")\r\n\t\t.reverse()\r\n\t\t.offset((pageNo - 1) * pageSize)\r\n\t\t.limit(pageSize)\r\n\t\t.toArray();\r\n\r\n\tlet toltalRecords = await Db[db_name].count();\r\n\tlet toltalPage = Math.ceil(toltalRecords / pageSize);\r\n\t// trả dữ liệu và thông tin phân trang mới.\r\n\treturn Promise.resolve({\r\n\t\tdata,\r\n\t\tpaginations: { toltalPage, toltalRecords },\r\n\t});\r\n}\r\n\r\n/**\r\n * @param metadata đối tượng chứa thông tin thực thi\r\n * @param value đối tượng chứa giá trị để cập nhật theo metadata\r\n * @return một mảng dữ liệu [{},{}]\r\n */\r\n\r\nexport async function Add(metadata, value) {\r\n\t// path là đường dẫn (tuyệt đối) dang đến item đang gọi hàm này. [dùng thông tin này để tìm kiếm và cập nhật chính xác đối tượn đích]\r\n\t// type là loại hành động [thêm file hoặc thêm group]\r\n\t// paginations chứa thông tin phân trang\r\n\t// dispatchCallback là một hàm callback kích hoạt hành động => load lại dữ liệu ,làm thay đổi trang thái của datas => re-render lại ui với data mới này.\r\n\t// value là giá trị cho đối tượng cập nhật\r\n\tlet { path, type, paginations } = metadata;\r\n\tlet { _id, name } = value;\r\n\r\n\t// chuyển path dạng string sang array\r\n\tlet copyPath = path;\r\n\tcopyPath = copyPath.split(\"/\");\r\n\t// xác định gốc để tìm  trong Db\r\n\tlet root = copyPath[0];\r\n\tlet result;\r\n\tswitch (type) {\r\n\t\tcase \"CREATE_FOLDER_AT_ROOT\":\r\n\t\t\tawait Db.folders.add({\r\n\t\t\t\t_id,\r\n\t\t\t\tpath: _id,\r\n\t\t\t\tisFolder: true,\r\n\t\t\t\tname,\r\n\t\t\t\tchildren: [],\r\n\t\t\t});\r\n\t\t\t// goi getDataFromDb voi dispatchCallback lam doi so\r\n\t\t\treturn RefeachDataAt({ db_name: \"folders\", paginations });\r\n\t\tcase \"CREATE_FILE_AT_ROOT\":\r\n\t\t\tawait Db.folders.add({\r\n\t\t\t\t_id,\r\n\t\t\t\tpath: _id,\r\n\t\t\t\tname,\r\n\t\t\t});\r\n\t\t\tawait Db.files.add({ _id, data: \"\" });\r\n\t\t\t// goi getDataFromDb voi dispatchCallback lam doi so\r\n\t\t\treturn RefeachDataAt({ db_name: \"folders\", paginations });\r\n\t\tcase \"CREATE_FOLDER\":\r\n\t\t\t// thêm một nhóm nếu không phải là root\r\n\t\t\t// nếu đang thêm vào 1 folders khác thì thực hiện tìm đến folders đó và push vào children array của folders đó\r\n\t\t\tif (!path) {\r\n\t\t\t\tawait Db.folders.add({\r\n\t\t\t\t\t_id,\r\n\t\t\t\t\tpath: _id,\r\n\t\t\t\t\tisFolder: true,\r\n\t\t\t\t\tname,\r\n\t\t\t\t\tchildren: [],\r\n\t\t\t\t});\r\n\t\t\t\t// goi getDataFromDb voi dispatchCallback lam doi so\r\n\t\t\t\treturn RefeachDataAt({ db_name: \"folders\", paginations });\r\n\t\t\t}\r\n\t\t\tresult = await Db.folders\r\n\t\t\t\t.where(\"_id\")\r\n\t\t\t\t.equals(root)\r\n\t\t\t\t.modify((obj) => {\r\n\t\t\t\t\tlet refObj = getObjByPath([obj], copyPath, \"_id\");\r\n\t\t\t\t\tconsole.log(\"refObj \", refObj);\r\n\t\t\t\t\trefObj.children.push({\r\n\t\t\t\t\t\t_id,\r\n\t\t\t\t\t\tpath: `${path}/${_id}`,\r\n\t\t\t\t\t\tisFolder: true,\r\n\t\t\t\t\t\tname,\r\n\t\t\t\t\t\tchildren: [],\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\treturn RefeachDataAt({ db_name: \"folders\", paginations });\r\n\t\t\t\t});\r\n\t\t\treturn result;\r\n\t\tcase \"CREATE_FILE\":\r\n\t\t\t// folder_ref chính là _id của item ko có children prop trong datas.\r\n\t\t\t// file_id là _id riêng của file , mục đích làm key cho react...\r\n\t\t\t// file_name là tên của file trong bảng Folders và files (trùng\r\n\r\n\t\t\t/* \tidiea code flow\r\n\t\t\t b1 : tìm folder dựa vào path\r\n\t\t\t b2 : cập nhật folder tại vị trí đã xác định bởi path\r\n\t\t\t b3 : thêm file liên kết với đối tượng vừa được cập nhật vào folder object\r\n\t\t\t*/\r\n\r\n\t\t\tresult = await Db.folders\r\n\t\t\t\t.where(\"_id\")\r\n\t\t\t\t.equals(root)\r\n\t\t\t\t.modify((obj) => {\r\n\t\t\t\t\tlet refObj = getObjByPath([obj], copyPath, \"_id\");\r\n\t\t\t\t\trefObj.children.push({\r\n\t\t\t\t\t\t_id,\r\n\t\t\t\t\t\tpath: `${path}/${_id}`,\r\n\t\t\t\t\t\tname,\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\treturn RefeachDataAt({ db_name: \"folders\", paginations });\r\n\t\t\t\t});\r\n\t\t\t// thêm một file liên kết với cái item trong folder (liên kết bởi _id)\r\n\t\t\tawait Db.files.add({ _id, data: \"\" });\r\n\t\t\treturn result;\r\n\t\tdefault:\r\n\t\t\tthrow new Error(\"invalid action type!\");\r\n\t}\r\n}\r\n\r\nexport async function Remove(metadata) {\r\n\tlet { path, type, paginations } = metadata;\r\n\tlet copyPath = path;\r\n\tcopyPath = copyPath.split(\"/\");\r\n\tlet length = copyPath.length - 1;\r\n\tlet root = copyPath[0];\r\n\tlet RootFolder = await Db.folders.where(\"_id\").equals(root).first();\r\n\t// mảng chứa các liên kết đến file trong thư mục\r\n\tlet deleteRefIDs;\r\n\tswitch (type) {\r\n\t\tcase \"DELETE_FOLDER\":\r\n\t\t\tconsole.log(\"delete folder at\", path, \"type\", type);\r\n\t\t\t// trường hợp xóa folder ở cấp cao nhất (root)\r\n\t\t\tif (root === copyPath[length]) {\r\n\t\t\t\tawait Db.folders.where(\"_id\").equals(root).delete();\r\n\t\t\t\tdeleteRefIDs = getAllValueByKey([RootFolder], \"_id\");\r\n\t\t\t} else {\r\n\t\t\t\t// tìm thư mục cần xóa , và cập nhật folder chứa folder cần xóa\r\n\t\t\t\tawait Db.folders\r\n\t\t\t\t\t.where(\"_id\")\r\n\t\t\t\t\t.equals(root)\r\n\t\t\t\t\t.modify((obj) => {\r\n\t\t\t\t\t\tlet updateFolder = getObjByPath(\r\n\t\t\t\t\t\t\t[obj],\r\n\t\t\t\t\t\t\tcopyPath.slice(0, length),\r\n\t\t\t\t\t\t\t\"_id\"\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\t// gán lại giá trị cho children bằng các item không có cùng _id với _id cần xóa.\r\n\t\t\t\t\t\tupdateFolder.children = updateFolder.children.filter(\r\n\t\t\t\t\t\t\t(item) => item._id !== copyPath[length]\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tdeleteRefIDs = getAllValueByKey([updateFolder], \"_id\");\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// xóa files liên kết nằm trong thư mục\r\n\t\t\tawait Db.files.where(\"_id\").anyOf(deleteRefIDs).delete();\r\n\t\t\treturn RefeachDataAt({\r\n\t\t\t\tdb_name: \"folders\",\r\n\t\t\t\tpaginations,\r\n\t\t\t});\r\n\t\tcase \"DELETE_FILE\":\r\n\t\t\t// la file o root\r\n\t\t\tif (root === copyPath[length]) {\r\n\t\t\t\tawait Db.folders.where(\"_id\").equals(root).delete();\r\n\t\t\t} else {\r\n\t\t\t\t// cần xác định file dó nằm trong thư mục nào rồi tiến hành cập nhật thư mục đó\r\n\t\t\t\t// thực hiện tìm đế thư mục chứa file cần xóa , chỉ cẩn duyệt đên path[length-2]\r\n\t\t\t\tawait Db.folders\r\n\t\t\t\t\t.where(\"_id\")\r\n\t\t\t\t\t.equals(root)\r\n\t\t\t\t\t.modify((obj) => {\r\n\t\t\t\t\t\tlet updateFolder = getObjByPath(\r\n\t\t\t\t\t\t\t[obj],\r\n\t\t\t\t\t\t\tcopyPath.slice(0, length),\r\n\t\t\t\t\t\t\t\"_id\"\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tupdateFolder.children = updateFolder.children.filter(\r\n\t\t\t\t\t\t\t(item) => item._id !== copyPath[length]\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t});\r\n\t\t\t\t// xoa file len ket thong qua _id cua no\r\n\t\t\t}\r\n\t\t\tawait Db.files.where(\"_id\").equals(copyPath[length]).delete();\r\n\t\t\treturn RefeachDataAt({\r\n\t\t\t\tdb_name: \"folders\",\r\n\t\t\t\tpaginations,\r\n\t\t\t});\r\n\r\n\t\tdefault:\r\n\t\t\tthrow new Error(\"invalid action type!\");\r\n\t}\r\n\r\n\t//\tlet refObj = getObjByPath([RootFolder], path, \"_id\");\r\n}\r\n\r\nexport async function Rename(metadata, newName) {\r\n\tlet { path, paginations } = metadata;\r\n\tlet copyPath = path;\r\n\tcopyPath = copyPath.split(\"/\");\r\n\tlet root = copyPath[0];\r\n\tlet length = copyPath.length - 1;\r\n\tif (root === copyPath[length]) {\r\n\t\tawait Db.folders\r\n\t\t\t.where(\"_id\")\r\n\t\t\t.equals(root)\r\n\t\t\t.modify((obj) => {\r\n\t\t\t\tobj.name = newName;\r\n\t\t\t});\r\n\t} else {\r\n\t\tawait Db.folders\r\n\t\t\t.where(\"_id\")\r\n\t\t\t.equals(root)\r\n\t\t\t.modify((obj) => {\r\n\t\t\t\tlet updateFolder = getObjByPath([obj], copyPath, \"_id\");\r\n\t\t\t\tupdateFolder.name = newName;\r\n\t\t\t});\r\n\t}\r\n\r\n\treturn RefeachDataAt({\r\n\t\tdb_name: \"folders\",\r\n\t\tpaginations,\r\n\t});\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"List_wrapper__vkZ3n\",\"item\":\"List_item__A5fJI\",\"main\":\"List_main__nuAi5\",\"title\":\"List_title__HdbVJ\",\"item_icon\":\"List_item_icon__OmPkR\"};","import { useState, useEffect, useContext } from \"react\";\r\nimport { nanoid } from \"nanoid\";\r\nimport { toast } from \"react-toastify\";\r\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\r\nimport { sidebarContext } from \"./../../../App\";\r\nimport { Add, Rename, Remove } from \"./actions\";\r\n\r\nimport Input from \"../../Input\";\r\nimport Confirm from \"../Confirm\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n\tfaFileEdit,\r\n\tfaTrashCan,\r\n\tfaFileCirclePlus,\r\n\tfaFolderPlus,\r\n\tfaFolder,\r\n\tfaFolderOpen,\r\n\tfaFile,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport sidebarStyles from \"./../Sidebar.module.scss\";\r\nimport styles from \"./List.module.scss\";\r\n\r\nfunction List({ dispatch, paginations, items }) {\r\n\t// đối tượng lưu thông tin ẩn hiện nội dung của item.\r\n\tconst [displayChildren, setDisplayChildren] = useState(() => {\r\n\t\tlet state = JSON.parse(localStorage.getItem(\"folders_state\")) || {};\r\n\t\treturn state;\r\n\t});\r\n\tconst [contentEditable, setContentEditable] = useState({});\r\n\t// hiển thỉ ô thêm group or file tùy vào context menu dc chọn\r\n\tconst [showInput, setShowInput] = useState({\r\n\t\ttype: \"CREATE_FILE\",\r\n\t\tisShow: false,\r\n\t});\r\n\r\n\tconst context = useContext(sidebarContext);\r\n\tuseEffect(() => {\r\n\t\tlocalStorage.setItem(\"folders_state\", JSON.stringify(displayChildren));\r\n\t}, [displayChildren]);\r\n\treturn (\r\n\t\t<ul className={styles[\"wrapper\"]}>\r\n\t\t\t{items.map((item) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<li\r\n\t\t\t\t\t\tclassName={styles[\"item\"]}\r\n\t\t\t\t\t\tkey={item._id}\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t// có 2 th\r\n\t\t\t\t\t\t\t// 1 . nếu item là một group (có children prop) => render children\r\n\t\t\t\t\t\t\t// 2. item không phải group thì thêm vào tab và mở file liên kết với item\r\n\t\t\t\t\t\t\tif (item.children) {\r\n\t\t\t\t\t\t\t\tsetDisplayChildren({\r\n\t\t\t\t\t\t\t\t\t...displayChildren,\r\n\t\t\t\t\t\t\t\t\t[item._id]: !displayChildren[item._id],\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t// mở file\r\n\t\t\t\t\t\t\t\t// có thể dùng custom event thay cho context (dispatch ở đây và bên MainContent thêm 1 custom event)\r\n\t\t\t\t\t\t\t\t// toast.info(`${item.name} current active!`, {\r\n\t\t\t\t\t\t\t\t// \tposition: toast.POSITION.BOTTOM_CENTER,\r\n\t\t\t\t\t\t\t\t// });\r\n\r\n\t\t\t\t\t\t\t\tcontext.onclickSubItem(item);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ContextMenuTrigger id={`#${item._id}`}>\r\n\t\t\t\t\t\t\t<div className={styles[\"main\"]}>\r\n\t\t\t\t\t\t\t\t<div className={styles[\"item_icon\"]}>\r\n\t\t\t\t\t\t\t\t\t{item.children ? (\r\n\t\t\t\t\t\t\t\t\t\tdisplayChildren[item._id] ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='#eab308'\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon={faFolderOpen}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='#ca8a04'\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon={faFolder}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='#f1f5f9'\r\n\t\t\t\t\t\t\t\t\t\t\ticon={faFile}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{/* xac dinh vi tri hien o input */}\r\n\t\t\t\t\t\t\t\t{contentEditable._id === item._id ? (\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\t\t\t\t\t\tstyleWrapper={\r\n\t\t\t\t\t\t\t\t\t\t\tsidebarStyles[\"input-wrraper\"]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tclassName={sidebarStyles[\"input\"]}\r\n\t\t\t\t\t\t\t\t\t\tonBlur={async (e) => {\r\n\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\tif (e.target.value) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlet newData = await Rename(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpath: item.path,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpaginations,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplayload: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpaginations:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewData.paginations,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: newData.data,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetContentEditable({});\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"renamed\");\r\n\t\t\t\t\t\t\t\t\t\t\t} else setContentEditable({});\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div className={styles[\"title\"]}>\r\n\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</ContextMenuTrigger>\r\n\t\t\t\t\t\t<ContextMenu\r\n\t\t\t\t\t\t\tid={`#${item._id}`}\r\n\t\t\t\t\t\t\tclassName={sidebarStyles[\"context_menu_warpper\"]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{item.children && (\r\n\t\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\tsidebarStyles[\"context_menu_item\"]\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t// mở submenu và thêm ô input vào trong\r\n\r\n\t\t\t\t\t\t\t\t\t\t!displayChildren[item._id] &&\r\n\t\t\t\t\t\t\t\t\t\t\tsetDisplayChildren({\r\n\t\t\t\t\t\t\t\t\t\t\t\t...displayChildren,\r\n\t\t\t\t\t\t\t\t\t\t\t\t[item._id]:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!displayChildren[item._id],\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t// showAT xac dinh dung noi input can hien\r\n\t\t\t\t\t\t\t\t\t\tsetShowInput({\r\n\t\t\t\t\t\t\t\t\t\t\tshowAt: item._id,\r\n\t\t\t\t\t\t\t\t\t\t\ttype: \"CREATE_FILE\",\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder: \"create new file\",\r\n\t\t\t\t\t\t\t\t\t\t\tpath: item.path,\r\n\t\t\t\t\t\t\t\t\t\t\tisShow: true,\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faFileCirclePlus} />{\" \"}\r\n\t\t\t\t\t\t\t\t\t<span>new file</span>\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{item.children && (\r\n\t\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\tsidebarStyles[\"context_menu_item\"]\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonClick={(e, data) => {\r\n\t\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t// chỉ mở subfolder nếu nó chưa đc mở. (nếu ko có đều kiện  này (!displayChildren[item._id]&& ...) thì khi folder đang mở sẽ bị đóng khi click menu item này)\r\n\t\t\t\t\t\t\t\t\t\t!displayChildren[item._id] &&\r\n\t\t\t\t\t\t\t\t\t\t\tsetDisplayChildren({\r\n\t\t\t\t\t\t\t\t\t\t\t\t...displayChildren,\r\n\t\t\t\t\t\t\t\t\t\t\t\t[item._id]:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!displayChildren[item._id],\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\t\tsetShowInput({\r\n\t\t\t\t\t\t\t\t\t\t\tshowAt: item._id,\r\n\t\t\t\t\t\t\t\t\t\t\ttype: \"CREATE_FOLDER\",\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder: \"create new group\",\r\n\t\t\t\t\t\t\t\t\t\t\tpath: item.path,\r\n\t\t\t\t\t\t\t\t\t\t\tisShow: true,\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\tcolor='#ca8a04'\r\n\t\t\t\t\t\t\t\t\t\ticon={faFolderPlus}\r\n\t\t\t\t\t\t\t\t\t/>{\" \"}\r\n\t\t\t\t\t\t\t\t\t<span>new group</span>\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\tclassName={sidebarStyles[\"context_menu_item\"]}\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t\tsetContentEditable({ _id: item._id });\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\tcolor='#1d4ed8'\r\n\t\t\t\t\t\t\t\t\ticon={faFileEdit}\r\n\t\t\t\t\t\t\t\t/>{\" \"}\r\n\t\t\t\t\t\t\t\t<span>rename</span>\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\tclassName={sidebarStyles[\"context_menu_item\"]}\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t\ttoast(\r\n\t\t\t\t\t\t\t\t\t\t<Confirm\r\n\t\t\t\t\t\t\t\t\t\t\tcustomMsg={`${item.name}`}\r\n\t\t\t\t\t\t\t\t\t\t\tfn={async () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlet type = item.isFolder\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"DELETE_FOLDER\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"DELETE_FILE\";\r\n\t\t\t\t\t\t\t\t\t\t\t\tlet newData = await Remove({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpath: item.path,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpaginations,\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplayload: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpaginations:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewData.paginations,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: newData.data,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\tcolor='#b91c1c'\r\n\t\t\t\t\t\t\t\t\ticon={faTrashCan}\r\n\t\t\t\t\t\t\t\t/>{\" \"}\r\n\t\t\t\t\t\t\t\t<span>remove</span>\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t</ContextMenu>\r\n\t\t\t\t\t\t{/* render nội dung nếu item là 1 group và chưa đc mở . nếu mở thì đóng */}\r\n\t\t\t\t\t\t{displayChildren[item._id] && item.children && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t{/* hiện ô input nếu khi click context menu item */}\r\n\t\t\t\t\t\t\t\t{showInput.isShow &&\r\n\t\t\t\t\t\t\t\t\tshowInput.showAt === item._id && (\r\n\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\t\t\t\t\t\t\tstyleWrapper={\r\n\t\t\t\t\t\t\t\t\t\t\t\tsidebarStyles[\"input-wrraper\"]\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={sidebarStyles[\"input\"]}\r\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={`${showInput.placeholder}`}\r\n\t\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t\t\tonBlur={async (e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (e.target.value) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet _id = nanoid(5);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// đoạn này ok , tra về kết quả mong muốn (th : thêm data ở root)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet newData = await Add(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpath: showInput.path,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: showInput.type,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpaginations,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_id,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: e.target\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplayload: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpaginations:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewData.paginations,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: newData.data,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetShowInput({});\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetShowInput({});\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\t\tdispatch={dispatch}\r\n\t\t\t\t\t\t\t\t\tpaginations={paginations}\r\n\t\t\t\t\t\t\t\t\titems={item.children}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</ul>\r\n\t);\r\n}\r\n\r\nexport default List;\r\n","import { nanoid } from \"nanoid\";\r\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\r\nimport { useState, useEffect, useReducer } from \"react\";\r\nimport Input from \"../../Input\";\r\n// import Item from \"./Item\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n\tfaFileCirclePlus,\r\n\tfaFolderPlus,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport sidebarStyles from \"./../Sidebar.module.scss\";\r\n\r\nimport styles from \"./Sidebar_Note.module.scss\";\r\nimport { RefeachDataAt, reRenderPage, Add } from \"./actions\";\r\nimport List from \"./List\";\r\n\r\nfunction SidebarNote() {\r\n\tconst [data, dispatch] = useReducer(\r\n\t\t(state, action) => {\r\n\t\t\tswitch (action.type) {\r\n\t\t\t\tcase \"go_to_page\":\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...state,\r\n\t\t\t\t\t\tpaginations: {\r\n\t\t\t\t\t\t\t...state.paginations,\r\n\t\t\t\t\t\t\tpage: action.playload.toPage,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdatas: action.playload.data,\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...state,\r\n\t\t\t\t\t\tpaginations: {\r\n\t\t\t\t\t\t\t...state.paginations,\r\n\t\t\t\t\t\t\t...action.playload.paginations,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tdatas: action.playload.data,\r\n\t\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\t\t{\r\n\t\t\tpaginations: {\r\n\t\t\t\tpage: 1,\r\n\t\t\t\titemPerPage: 5,\r\n\t\t\t\ttoltalPage: null,\r\n\t\t\t\ttoltalRecords: null,\r\n\t\t\t},\r\n\t\t\tdatas: [],\r\n\t\t}\r\n\t);\r\n\tconst [showInput, setShowInput] = useState({});\r\n\tuseEffect(() => {\r\n\t\t// sau khi mount , get data => re-render ui\r\n\t\t(async () => {\r\n\t\t\tlet newData = await RefeachDataAt({\r\n\t\t\t\tdb_name: \"folders\",\r\n\t\t\t\tpaginations: data.paginations,\r\n\t\t\t});\r\n\t\t\tdispatch({\r\n\t\t\t\tplayload: {\r\n\t\t\t\t\tpaginations: newData.paginations,\r\n\t\t\t\t\tdata: newData.data,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t})();\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className={styles.wrapper}>\r\n\t\t\t<ContextMenuTrigger id='#root-tree-folder'>\r\n\t\t\t\t<List\r\n\t\t\t\t\tdispatch={dispatch}\r\n\t\t\t\t\tpaginations={data.paginations}\r\n\t\t\t\t\titems={data.datas}\r\n\t\t\t\t/>\r\n\t\t\t</ContextMenuTrigger>\r\n\t\t\t{showInput.isShow && (\r\n\t\t\t\t<Input\r\n\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\tstyleWrapper={sidebarStyles[\"input-wrraper\"]}\r\n\t\t\t\t\tclassName={sidebarStyles[\"input\"]}\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tplaceholder={`${showInput.placeholder}`}\r\n\t\t\t\t\tonBlur={async (e) => {\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\tlet _id = nanoid(5);\r\n\t\t\t\t\t\t// đoạn này ok , tra về kết quả mong muốn (th : thêm data ở root)\r\n\t\t\t\t\t\tif (e.target.value) {\r\n\t\t\t\t\t\t\tlet newData = await Add(\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tpath: \"\",\r\n\t\t\t\t\t\t\t\t\ttype: showInput.type,\r\n\t\t\t\t\t\t\t\t\tpaginations: data.paginations,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{ _id, name: e.target.value }\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\t\tplayload: {\r\n\t\t\t\t\t\t\t\t\tpaginations: newData.paginations,\r\n\t\t\t\t\t\t\t\t\tdata: newData.data,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tsetShowInput({});\r\n\t\t\t\t\t\t} else setShowInput({});\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<ContextMenu\r\n\t\t\t\tid='#root-tree-folder'\r\n\t\t\t\tclassName={sidebarStyles[\"context_menu_warpper\"]}\r\n\t\t\t>\r\n\t\t\t\t<MenuItem\r\n\t\t\t\t\tclassName={sidebarStyles[\"context_menu_item\"]}\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\tsetShowInput({\r\n\t\t\t\t\t\t\ttype: \"CREATE_FILE_AT_ROOT\",\r\n\t\t\t\t\t\t\tisShow: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FontAwesomeIcon icon={faFileCirclePlus} />\r\n\t\t\t\t\t<span>new file</span>\r\n\t\t\t\t</MenuItem>\r\n\t\t\t\t<MenuItem\r\n\t\t\t\t\tclassName={sidebarStyles[\"context_menu_item\"]}\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\tsetShowInput({\r\n\t\t\t\t\t\t\ttype: \"CREATE_FOLDER_AT_ROOT\",\r\n\t\t\t\t\t\t\tisShow: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FontAwesomeIcon color='#ca8a04' icon={faFolderPlus} />\r\n\t\t\t\t\t<span>new group</span>\r\n\t\t\t\t</MenuItem>\r\n\t\t\t</ContextMenu>\r\n\r\n\t\t\t<div className={styles[\"paginations-wrapper\"]}>\r\n\t\t\t\tpage :{\" \"}\r\n\t\t\t\t<Input\r\n\t\t\t\t\tstyleWrapper={styles[\"pagination-input-wrraper\"]}\r\n\t\t\t\t\tclassName={styles[\"paginations-modify-page-input\"]}\r\n\t\t\t\t\ttype='number'\r\n\t\t\t\t\tmin={0}\r\n\t\t\t\t\tmax={data.paginations.toltalPage}\r\n\t\t\t\t\tonChangefn={(e) => {\r\n\t\t\t\t\t\tif (+e) reRenderPage(+e, data.paginations, dispatch);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tplaceholder={data.paginations.page}\r\n\t\t\t\t/>{\" \"}\r\n\t\t\t\t/ {data.paginations.toltalPage} | toltal{\" \"}\r\n\t\t\t\t{data.paginations.toltalRecords}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default SidebarNote;\r\n"],"names":["getObjByPath","Obj","path","key","deep","curr_pos","i","temp","undefined","length","children","getAllValueByKey","ArrayOfObj","result","push","toPage","paginations","dispatchCallback","pageSize","itemPerPage","Db","reverse","offset","limit","toArray","data","type","playload","RefeachDataAt","db_name","pageNo","page","orderBy","count","toltalRecords","toltalPage","Math","ceil","Promise","resolve","Add","metadata","value","_id","name","copyPath","split","root","isFolder","equals","modify","obj","refObj","console","log","then","Error","Remove","first","RootFolder","delete","deleteRefIDs","updateFolder","slice","filter","item","anyOf","Rename","newName","List","dispatch","items","useState","JSON","parse","localStorage","getItem","displayChildren","setDisplayChildren","contentEditable","setContentEditable","isShow","showInput","setShowInput","context","useContext","sidebarContext","useEffect","setItem","stringify","className","styles","map","onClick","e","stopPropagation","onclickSubItem","id","color","icon","faFolderOpen","faFolder","faFile","Input","tabIndex","styleWrapper","sidebarStyles","onBlur","target","newData","autoFocus","showAt","placeholder","faFileCirclePlus","faFolderPlus","faFileEdit","toast","Confirm","customMsg","fn","faTrashCan","nanoid","useReducer","state","action","datas","min","max","onChangefn","reRenderPage"],"sourceRoot":""}