"use strict";(self.webpackChunkxie_han_zi=self.webpackChunkxie_han_zi||[]).push([[841],{8841:function(e,r,n){n.r(r),n.d(r,{default:function(){return v}});var t=n(3433),a=n(4165),s=n(5861),i=n(9439),c=n(4479),u=n(2791),o=n(4557),f="Sidebar_ListViews_wrapper__7TFxE",l="Sidebar_ListViews_List_view_wrapper__Fw8R+",_="Sidebar_ListViews_ViewItem__6zlyo",d="Sidebar_ListViews_clear-wrapper__NyHe9",p="Sidebar_ListViews_clear-htr-btn__vBTm8",w=n(184);function h(e,r){var n=(0,u.useState)([]),h=(0,i.Z)(n,2),v=h[0],x=h[1],b=(0,u.useContext)(c.Ut);return(0,u.useEffect)((function(){(0,s.Z)((0,a.Z)().mark((function e(){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Db.history.orderBy("id").toArray();case 2:r=e.sent,x(r);case 4:case"end":return e.stop()}}),e)})))()}),[]),(0,u.useImperativeHandle)(r,(function(){return{saveHistory:function(e){o.Db.transaction("rw",o.Db.history,(0,s.Z)((0,a.Z)().mark((function r(){return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.Db.history.add(e);case 2:case"end":return r.stop()}}),r)})))).then((0,s.Z)((0,a.Z)().mark((function r(){return(0,a.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:x((function(r){return[].concat((0,t.Z)(r),[e])}));case 1:case"end":return r.stop()}}),r)})))).catch((function(e){console.error(e.stack)}))}}})),(0,w.jsxs)("div",{className:f,children:[(0,w.jsx)("ul",{className:l,children:null===v||void 0===v?void 0:v.map((function(e){return(0,w.jsx)("li",{className:_,onClick:function(){b.onItemClick(e._value)},children:e._value},e._id)}))}),(0,w.jsx)("div",{className:d,children:(0,w.jsx)("button",{className:p,onClick:(0,s.Z)((0,a.Z)().mark((function e(){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Db.history.clear();case 2:x([]);case 3:case"end":return e.stop()}}),e)}))),children:"clear"})})]})}var v=(0,u.forwardRef)(h)}}]);
//# sourceMappingURL=841.37edeeaf.chunk.js.map