{"version":3,"file":"static/js/130.f232e45b.chunk.js","mappings":"mQAwIA,UA9GA,SAAsBA,EAAOC,GAC5B,IAAMC,GAAaC,EAAAA,EAAAA,UACnB,GAA0BC,EAAAA,EAAAA,UAAS,IAAG,eAA/BC,EAAK,KAAEC,EAAQ,KAChBC,EAAY,SAAH,GAA4B,IAAdC,EAAM,EAAdC,OACpBH,EAASE,EACV,EAQA,OAPAE,EAAAA,EAAAA,YAAU,WAGT,OAFAC,EAAAA,EAAAA,IAAG,WAAYJ,GAER,YACNK,EAAAA,EAAAA,IAAI,WAAYL,EACjB,CACD,KAEC,iBAAKM,UAAWC,EAAAA,EAAAA,qBAA+B,WAC9C,iBAAKD,UAAWC,EAAAA,EAAAA,OAAiB,WAChC,SAAC,IAAQ,CACRC,aAAc,WACbf,EAAMgB,UAAU,cACjB,KAED,gBAAKH,UAAWC,EAAAA,EAAAA,gBAAwBb,IAAKC,EAAW,SACtDG,IACA,OAAIA,GACFY,KAAK,KACLC,MAAM,OACNC,KAAI,SAACC,EAAMC,GACX,OACC,iBAECR,UAAWC,EAAAA,EAAAA,aAAuB,WAElC,iBAAMD,UAAWC,EAAAA,EAAAA,YAAsB,UACrCQ,EAAAA,EAAAA,IAAOF,GAAM,MAEf,SAAC,KAAK,CACLG,aAAW,EACXC,aAAa,EACbC,UAAU,YACVC,OAAQ,SAACC,GAAK,OACb,gCACCd,UAAU,gBACVe,SAAS,MACLD,GAAK,cAET,SAAC,UAAc,CACdE,UAAWT,EACXU,QACC9B,EAAM+B,0BAGH,EACL,UAEF,iBACClB,UAAWC,EAAAA,EAAAA,WAAqB,SAE/BM,QA5BEC,EAiCR,UAGJ,iBAAKR,UAAWC,EAAAA,EAAAA,KAAe,WAC9B,mBACCkB,QAAS,WAhFO,IAAUC,KAiFZX,EAAAA,EAAAA,IAAOjB,EAAO,CAAE6B,OAAO,IA/EzCC,UAAUC,UAAUC,UAAUJ,GAASK,KACtCC,EAAAA,GAAAA,QAAc,uCAAwC,CACrDC,SAAUD,EAAAA,GAAAA,SAAAA,iBAEX,SAAUE,GACTF,EAAAA,GAAAA,MAAY,+BAAiCE,EAAK,CACjDD,SAAUD,EAAAA,GAAAA,SAAAA,eAEZ,GAwEG,EACAG,MAAM,cAAa,UAEnB,SAAC,IAAe,CAACC,KAAMC,EAAAA,SAExB,mBACC/B,UAAWC,EAAAA,EAAAA,eACXkB,QAAS,WACR,IAAMa,EAAY,IAAIC,yBAAyBzC,GAC/CwC,EAAUE,KAAO,QACjBC,gBAAgBC,MAAMJ,GACtBA,EAAUK,MAAQ,WACjBC,QAAQC,IAAI,UACb,CACD,EACAV,MAAM,OAAM,UAEZ,SAAC,IAAe,CAACC,KAAMU,EAAAA,SAGxB,mBAAOxC,UAAWC,EAAAA,EAAAA,WAAkB,WACnC,iCACA,kBACCwC,SAAU,SAACC,GACVrD,EAAWsD,QAAQC,MAAMC,YACxB,eAAe,GAAD,OACXH,EAAEI,OAAOtD,MAAK,OAEnB,EACAuD,KAAK,QACLC,aAAc,IACdC,KAAM,GACNC,IAAK,EACLC,IAAK,KAEN,wCAKL,C","sources":["components/MainContent/Screens/Pinyin.js"],"sourcesContent":["import { useState, useEffect, useRef } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { on, off } from \"./../../../customEvent\";\r\n\r\nimport pinyin from \"pinyin\";\r\nimport Tippy from \"@tippyjs/react/headless\";\r\nimport HanziComponent from \"./../../HanziComponent\";\r\nimport FormData from \"../FormData\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\n\r\nimport { faCopy, faVolumeHigh } from \"@fortawesome/free-solid-svg-icons\";\r\nimport styles from \"./../main.module.scss\";\r\n\r\nconst CopyPinyinFn = function (pinyins) {\r\n\t// copy ok  nhung ko co thong bao\r\n\tnavigator.clipboard.writeText(pinyins).then(\r\n\t\ttoast.success(\"Copying to clipboard was successful!\", {\r\n\t\t\tposition: toast.POSITION.BOTTOM_CENTER,\r\n\t\t}),\r\n\t\tfunction (err) {\r\n\t\t\ttoast.error(\"Async: Could not copy text: \" + err, {\r\n\t\t\t\tposition: toast.POSITION.BOTTOM_CENTER,\r\n\t\t\t});\r\n\t\t}\r\n\t);\r\n};\r\nfunction PinyinScreen(props, ref) {\r\n\tconst Hanzi_wiew = useRef();\r\n\tconst [value, setValue] = useState(\"\");\r\n\tconst setPinyin = ({ detail: _value }) => {\r\n\t\tsetValue(_value);\r\n\t};\r\n\tuseEffect(() => {\r\n\t\ton(\"toPinyin\", setPinyin);\r\n\r\n\t\treturn () => {\r\n\t\t\toff(\"toPinyin\", setPinyin);\r\n\t\t};\r\n\t});\r\n\treturn (\r\n\t\t<div className={styles[\"view_pinyin_warapper\"]}>\r\n\t\t\t<div className={styles[\"hanzi_\"]}>\r\n\t\t\t\t<FormData\r\n\t\t\t\t\tViewPinyinFn={() => {\r\n\t\t\t\t\t\tprops.setScreen(\"view_pinyin\");\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className={styles[\"text-wrapper\"]} ref={Hanzi_wiew}>\r\n\t\t\t\t\t{value &&\r\n\t\t\t\t\t\t[...value]\r\n\t\t\t\t\t\t\t.join(\" \")\r\n\t\t\t\t\t\t\t.split(/\\s+/)\r\n\t\t\t\t\t\t\t.map((char, i) => {\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\t\t\t\tclassName={styles[\"char_wrapper\"]}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<span className={styles[\"char_pinyin\"]}>\r\n\t\t\t\t\t\t\t\t\t\t\t{pinyin(char)[0]}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t<Tippy\r\n\t\t\t\t\t\t\t\t\t\t\tinteractive\r\n\t\t\t\t\t\t\t\t\t\t\thideOnClick={true}\r\n\t\t\t\t\t\t\t\t\t\t\tplacement='right-end'\r\n\t\t\t\t\t\t\t\t\t\t\trender={(attrs) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName='tippy-wrapper'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttabIndex='-1'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{...attrs}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<HanziComponent\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcharacter={char}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\toptions={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tprops.hanziComponentOptions\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={styles[\"char_hanzi\"]}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{char}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t</Tippy>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<div className={styles[\"btns\"]}>\r\n\t\t\t\t<button\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tCopyPinyinFn(pinyin(value, { group: true }));\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ttitle='copy pinyin'\r\n\t\t\t\t>\r\n\t\t\t\t\t<FontAwesomeIcon icon={faCopy} />\r\n\t\t\t\t</button>\r\n\t\t\t\t<button\r\n\t\t\t\t\tclassName={styles[\"speaker-btn\"]}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tconst utterThis = new SpeechSynthesisUtterance(value);\r\n\t\t\t\t\t\tutterThis.lang = \"zh-CN\";\r\n\t\t\t\t\t\tspeechSynthesis.speak(utterThis);\r\n\t\t\t\t\t\tutterThis.onend = function () {\r\n\t\t\t\t\t\t\tconsole.log(\"finish!\");\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}}\r\n\t\t\t\t\ttitle='read'\r\n\t\t\t\t>\r\n\t\t\t\t\t<FontAwesomeIcon icon={faVolumeHigh} />\r\n\t\t\t\t</button>\r\n\r\n\t\t\t\t<label className={styles[\"ml-auto\"]}>\r\n\t\t\t\t\t<span>-</span>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\tHanzi_wiew.current.style.setProperty(\r\n\t\t\t\t\t\t\t\t\"--hanzi_size\",\r\n\t\t\t\t\t\t\t\t`${e.target.value}rem`\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t\ttype='range'\r\n\t\t\t\t\t\tdefaultValue={2.5}\r\n\t\t\t\t\t\tstep={0.5}\r\n\t\t\t\t\t\tmin={1}\r\n\t\t\t\t\t\tmax={5}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<span>+</span>\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\nexport default PinyinScreen;\r\n"],"names":["props","ref","Hanzi_wiew","useRef","useState","value","setValue","setPinyin","_value","detail","useEffect","on","off","className","styles","ViewPinyinFn","setScreen","join","split","map","char","i","pinyin","interactive","hideOnClick","placement","render","attrs","tabIndex","character","options","hanziComponentOptions","onClick","pinyins","group","navigator","clipboard","writeText","then","toast","position","err","title","icon","faCopy","utterThis","SpeechSynthesisUtterance","lang","speechSynthesis","speak","onend","console","log","faVolumeHigh","onChange","e","current","style","setProperty","target","type","defaultValue","step","min","max"],"sourceRoot":""}