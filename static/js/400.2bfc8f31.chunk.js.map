{"version":3,"file":"static/js/400.2bfc8f31.chunk.js","mappings":"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","sources":["webpack://xie-han-zi/./src/components/Sidebar/Sidebar_Note/Sidebar_Note.module.scss?90f1","components/Sidebar/Sidebar_Note/actions.js","webpack://xie-han-zi/./src/components/Sidebar/Sidebar_Note/List.module.scss?908c","components/Sidebar/Sidebar_Note/List.js","components/Sidebar/Sidebar_Note/index.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"Sidebar_Note_wrapper__5iR0R\",\"Note_wrapper\":\"Sidebar_Note_Note_wrapper__2QWxm\",\"paginations-wrapper\":\"Sidebar_Note_paginations-wrapper__k4gZE\",\"pagination-input-wrraper\":\"Sidebar_Note_pagination-input-wrraper__UJtcw\",\"paginations-modify-page-input\":\"Sidebar_Note_paginations-modify-page-input__Qi7gP\",\"Item\":\"Sidebar_Note_Item__YmzOW\",\"folder-wrapper\":\"Sidebar_Note_folder-wrapper__Jh6cN\",\"item-btns\":\"Sidebar_Note_item-btns__gjxlN\",\"tippy-wrapper\":\"Sidebar_Note_tippy-wrapper__f4TrW\",\"create_subFolder_input\":\"Sidebar_Note_create_subFolder_input__QzxSi\",\"btn\":\"Sidebar_Note_btn__9EuOJ\",\"sub-folder-wrapper\":\"Sidebar_Note_sub-folder-wrapper__NM91g\",\"sub_item\":\"Sidebar_Note_sub_item__a8Bxi\",\"folder-lable\":\"Sidebar_Note_folder-lable__jIMzw\",\"create_group_wrapper\":\"Sidebar_Note_create_group_wrapper__LJY9V\",\"create_group_input_styles\":\"Sidebar_Note_create_group_input_styles__7fLRH\",\"create_folder_input_styles\":\"Sidebar_Note_create_folder_input_styles__KWZe+\"};","import { Db } from \"../../../database/Db_new\";\r\nimport { getObjByPath, getAllValueByKey } from \"./../../../helper\";\r\n\r\nexport async function reRenderPage(toPage, paginations, dispatchCallback) {\r\n\t// phan trang dua theo paginations.\r\n\tlet { itemPerPage: pageSize } = paginations;\r\n\tif (toPage - 1 < 0) toPage = 1;\r\n\tlet data = await Db.folders\r\n\t\t.orderBy(\"id\")\r\n\t\t.offset((toPage - 1) * pageSize)\r\n\t\t.limit(pageSize)\r\n\t\t.toArray();\r\n\tdispatchCallback({\r\n\t\ttype: \"go_to_page\",\r\n\t\tplayload: { data, toPage },\r\n\t});\r\n}\r\n\r\nexport async function RefeachDataAt({ db_name = \"folders\", paginations }) {\r\n\tlet { page: pageNo, itemPerPage: pageSize } = paginations;\r\n\tlet data = await Db[db_name]\r\n\t\t.orderBy(\"id\")\r\n\t\t.offset((pageNo - 1) * pageSize)\r\n\t\t.limit(pageSize)\r\n\t\t.toArray();\r\n\r\n\tlet toltalRecords = await Db[db_name].count();\r\n\tlet toltalPage = Math.ceil(toltalRecords / pageSize);\r\n\t// trả dữ liệu và thông tin phân trang mới.\r\n\treturn Promise.resolve({\r\n\t\tdata,\r\n\t\tpaginations: { toltalPage, toltalRecords },\r\n\t});\r\n}\r\n\r\n/**\r\n * @param metadata đối tượng chứa thông tin thực thi\r\n * @param value đối tượng chứa giá trị để cập nhật theo metadata\r\n * @return một mảng dữ liệu [{},{}]\r\n */\r\n\r\nexport async function Add(metadata, value) {\r\n\t// path là đường dẫn (tuyệt đối) dang đến item đang gọi hàm này. [dùng thông tin này để tìm kiếm và cập nhật chính xác đối tượn đích]\r\n\t// type là loại hành động [thêm file hoặc thêm group]\r\n\t// paginations chứa thông tin phân trang\r\n\t// dispatchCallback là một hàm callback kích hoạt hành động => load lại dữ liệu ,làm thay đổi trang thái của datas => re-render lại ui với data mới này.\r\n\t// value là giá trị cho đối tượng cập nhật\r\n\tlet { path, type, paginations } = metadata;\r\n\tlet { _id, name } = value;\r\n\r\n\t// chuyển path dạng string sang array\r\n\tlet copyPath = path;\r\n\tcopyPath = copyPath.split(\"/\");\r\n\t// xác định gốc để tìm  trong Db\r\n\tlet root = copyPath[0];\r\n\tlet result;\r\n\tswitch (type) {\r\n\t\tcase \"CREATE_FOLDER_AT_ROOT\":\r\n\t\t\tawait Db.folders.add({\r\n\t\t\t\t_id,\r\n\t\t\t\tpath: _id,\r\n\t\t\t\tisFolder: true,\r\n\t\t\t\tname,\r\n\t\t\t\tchildren: [],\r\n\t\t\t});\r\n\t\t\t// goi getDataFromDb voi dispatchCallback lam doi so\r\n\t\t\treturn RefeachDataAt({ db_name: \"folders\", paginations });\r\n\t\tcase \"CREATE_FILE_AT_ROOT\":\r\n\t\t\tawait Db.folders.add({\r\n\t\t\t\t_id,\r\n\t\t\t\tpath: _id,\r\n\t\t\t\tname,\r\n\t\t\t});\r\n\t\t\tawait Db.files.add({ _id, data: \"\" });\r\n\t\t\t// goi getDataFromDb voi dispatchCallback lam doi so\r\n\t\t\treturn RefeachDataAt({ db_name: \"folders\", paginations });\r\n\t\tcase \"CREATE_FOLDER\":\r\n\t\t\t// thêm một nhóm nếu không phải là root\r\n\t\t\t// nếu đang thêm vào 1 folders khác thì thực hiện tìm đến folders đó và push vào children array của folders đó\r\n\t\t\tif (!path) {\r\n\t\t\t\tawait Db.folders.add({\r\n\t\t\t\t\t_id,\r\n\t\t\t\t\tpath: _id,\r\n\t\t\t\t\tisFolder: true,\r\n\t\t\t\t\tname,\r\n\t\t\t\t\tchildren: [],\r\n\t\t\t\t});\r\n\t\t\t\t// goi getDataFromDb voi dispatchCallback lam doi so\r\n\t\t\t\treturn RefeachDataAt({ db_name: \"folders\", paginations });\r\n\t\t\t}\r\n\t\t\tresult = await Db.folders\r\n\t\t\t\t.where(\"_id\")\r\n\t\t\t\t.equals(root)\r\n\t\t\t\t.modify((obj) => {\r\n\t\t\t\t\tlet refObj = getObjByPath([obj], copyPath, \"_id\");\r\n\t\t\t\t\tconsole.log(\"refObj \", refObj);\r\n\t\t\t\t\trefObj.children.push({\r\n\t\t\t\t\t\t_id,\r\n\t\t\t\t\t\tpath: `${path}/${_id}`,\r\n\t\t\t\t\t\tisFolder: true,\r\n\t\t\t\t\t\tname,\r\n\t\t\t\t\t\tchildren: [],\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\treturn RefeachDataAt({ db_name: \"folders\", paginations });\r\n\t\t\t\t});\r\n\t\t\treturn result;\r\n\t\tcase \"CREATE_FILE\":\r\n\t\t\t// folder_ref chính là _id của item ko có children prop trong datas.\r\n\t\t\t// file_id là _id riêng của file , mục đích làm key cho react...\r\n\t\t\t// file_name là tên của file trong bảng Folders và files (trùng\r\n\r\n\t\t\t/* \tidiea code flow\r\n\t\t\t b1 : tìm folder dựa vào path\r\n\t\t\t b2 : cập nhật folder tại vị trí đã xác định bởi path\r\n\t\t\t b3 : thêm file liên kết với đối tượng vừa được cập nhật vào folder object\r\n\t\t\t*/\r\n\r\n\t\t\tresult = await Db.folders\r\n\t\t\t\t.where(\"_id\")\r\n\t\t\t\t.equals(root)\r\n\t\t\t\t.modify((obj) => {\r\n\t\t\t\t\tlet refObj = getObjByPath([obj], copyPath, \"_id\");\r\n\t\t\t\t\trefObj.children.push({\r\n\t\t\t\t\t\t_id,\r\n\t\t\t\t\t\tpath: `${path}/${_id}`,\r\n\t\t\t\t\t\tname,\r\n\t\t\t\t\t});\r\n\t\t\t\t})\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\treturn RefeachDataAt({ db_name: \"folders\", paginations });\r\n\t\t\t\t});\r\n\t\t\t// thêm một file liên kết với cái item trong folder (liên kết bởi _id)\r\n\t\t\tawait Db.files.add({ _id, data: \"\" });\r\n\t\t\treturn result;\r\n\t\tdefault:\r\n\t\t\tthrow new Error(\"invalid action type!\");\r\n\t}\r\n}\r\n\r\nexport async function Remove(metadata) {\r\n\tlet { path, type, paginations } = metadata;\r\n\tlet copyPath = path;\r\n\tcopyPath = copyPath.split(\"/\");\r\n\tlet length = copyPath.length - 1;\r\n\tlet root = copyPath[0];\r\n\tlet RootFolder = await Db.folders.where(\"_id\").equals(root).first();\r\n\t// mảng chứa các liên kết đến file trong thư mục\r\n\tlet deleteRefIDs;\r\n\tswitch (type) {\r\n\t\tcase \"DELETE_FOLDER\":\r\n\t\t\tconsole.log(\"delete folder at\", path, \"type\", type);\r\n\t\t\t// trường hợp xóa folder ở cấp cao nhất (root)\r\n\t\t\tif (root === copyPath[length]) {\r\n\t\t\t\tawait Db.folders.where(\"_id\").equals(root).delete();\r\n\t\t\t\tdeleteRefIDs = getAllValueByKey([RootFolder], \"_id\");\r\n\t\t\t} else {\r\n\t\t\t\t// tìm thư mục cần xóa , và cập nhật folder chứa folder cần xóa\r\n\t\t\t\tawait Db.folders\r\n\t\t\t\t\t.where(\"_id\")\r\n\t\t\t\t\t.equals(root)\r\n\t\t\t\t\t.modify((obj) => {\r\n\t\t\t\t\t\tlet updateFolder = getObjByPath(\r\n\t\t\t\t\t\t\t[obj],\r\n\t\t\t\t\t\t\tcopyPath.slice(0, length),\r\n\t\t\t\t\t\t\t\"_id\"\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\t// gán lại giá trị cho children bằng các item không có cùng _id với _id cần xóa.\r\n\t\t\t\t\t\tupdateFolder.children = updateFolder.children.filter(\r\n\t\t\t\t\t\t\t(item) => item._id !== copyPath[length]\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tdeleteRefIDs = getAllValueByKey([updateFolder], \"_id\");\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// xóa files liên kết nằm trong thư mục\r\n\t\t\tawait Db.files.where(\"_id\").anyOf(deleteRefIDs).delete();\r\n\t\t\treturn RefeachDataAt({\r\n\t\t\t\tdb_name: \"folders\",\r\n\t\t\t\tpaginations,\r\n\t\t\t});\r\n\t\tcase \"DELETE_FILE\":\r\n\t\t\t// la file o root\r\n\t\t\tif (root === copyPath[length]) {\r\n\t\t\t\tawait Db.folders.where(\"_id\").equals(root).delete();\r\n\t\t\t} else {\r\n\t\t\t\t// cần xác định file dó nằm trong thư mục nào rồi tiến hành cập nhật thư mục đó\r\n\t\t\t\t// thực hiện tìm đế thư mục chứa file cần xóa , chỉ cẩn duyệt đên path[length-2]\r\n\t\t\t\tawait Db.folders\r\n\t\t\t\t\t.where(\"_id\")\r\n\t\t\t\t\t.equals(root)\r\n\t\t\t\t\t.modify((obj) => {\r\n\t\t\t\t\t\tlet updateFolder = getObjByPath(\r\n\t\t\t\t\t\t\t[obj],\r\n\t\t\t\t\t\t\tcopyPath.slice(0, length),\r\n\t\t\t\t\t\t\t\"_id\"\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tupdateFolder.children = updateFolder.children.filter(\r\n\t\t\t\t\t\t\t(item) => item._id !== copyPath[length]\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t});\r\n\t\t\t\t// xoa file len ket thong qua _id cua no\r\n\t\t\t}\r\n\t\t\tawait Db.files.where(\"_id\").equals(copyPath[length]).delete();\r\n\t\t\treturn RefeachDataAt({\r\n\t\t\t\tdb_name: \"folders\",\r\n\t\t\t\tpaginations,\r\n\t\t\t});\r\n\r\n\t\tdefault:\r\n\t\t\tthrow new Error(\"invalid action type!\");\r\n\t}\r\n\r\n\t//\tlet refObj = getObjByPath([RootFolder], path, \"_id\");\r\n}\r\n\r\nexport async function Rename(metadata, newName) {\r\n\tlet { path, paginations } = metadata;\r\n\tlet copyPath = path;\r\n\tcopyPath = copyPath.split(\"/\");\r\n\tlet root = copyPath[0];\r\n\tlet length = copyPath.length - 1;\r\n\tif (root === copyPath[length]) {\r\n\t\tawait Db.folders\r\n\t\t\t.where(\"_id\")\r\n\t\t\t.equals(root)\r\n\t\t\t.modify((obj) => {\r\n\t\t\t\tobj.name = newName;\r\n\t\t\t});\r\n\t} else {\r\n\t\tawait Db.folders\r\n\t\t\t.where(\"_id\")\r\n\t\t\t.equals(root)\r\n\t\t\t.modify((obj) => {\r\n\t\t\t\tlet updateFolder = getObjByPath([obj], copyPath, \"_id\");\r\n\t\t\t\tupdateFolder.name = newName;\r\n\t\t\t});\r\n\t}\r\n\r\n\treturn RefeachDataAt({\r\n\t\tdb_name: \"folders\",\r\n\t\tpaginations,\r\n\t});\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"List_wrapper__vkZ3n\",\"item\":\"List_item__A5fJI\",\"main\":\"List_main__nuAi5\",\"title\":\"List_title__HdbVJ\",\"item_icon\":\"List_item_icon__OmPkR\"};","import { useState, useEffect, useContext } from \"react\";\r\nimport { nanoid } from \"nanoid\";\r\nimport { toast } from \"react-toastify\";\r\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\r\nimport { sidebarContext } from \"./../../../App\";\r\nimport { Add, Rename, Remove } from \"./actions\";\r\n\r\nimport Input from \"../../Input\";\r\nimport Confirm from \"../Confirm\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n\tfaFileEdit,\r\n\tfaTrashCan,\r\n\tfaFileCirclePlus,\r\n\tfaFolderPlus,\r\n\tfaFolder,\r\n\tfaFolderOpen,\r\n\tfaFile,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport sidebarStyles from \"./../Sidebar.module.scss\";\r\nimport styles from \"./List.module.scss\";\r\n\r\nfunction List({ dispatch, paginations, items }) {\r\n\tconsole.log(\"list folder - render!!!\");\r\n\t// đối tượng lưu thông tin ẩn hiện nội dung của item.\r\n\tconst [displayChildren, setDisplayChildren] = useState(() => {\r\n\t\tlet state = JSON.parse(localStorage.getItem(\"folders_state\")) || {};\r\n\t\treturn state;\r\n\t});\r\n\tconst [contentEditable, setContentEditable] = useState({});\r\n\t// hiển thỉ ô thêm group or file tùy vào context menu dc chọn\r\n\tconst [showInput, setShowInput] = useState({\r\n\t\ttype: \"CREATE_FILE\",\r\n\t\tisShow: false,\r\n\t});\r\n\r\n\tconst context = useContext(sidebarContext);\r\n\tuseEffect(() => {\r\n\t\tlocalStorage.setItem(\"folders_state\", JSON.stringify(displayChildren));\r\n\t}, [displayChildren]);\r\n\treturn (\r\n\t\t<ul className={styles[\"wrapper\"]}>\r\n\t\t\t{items.map((item) => {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t<li\r\n\t\t\t\t\t\tclassName={styles[\"item\"]}\r\n\t\t\t\t\t\tkey={item._id}\r\n\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t// có 2 th\r\n\t\t\t\t\t\t\t// 1 . nếu item là một group (có children prop) => render children\r\n\t\t\t\t\t\t\t// 2. item không phải group thì thêm vào tab và mở file liên kết với item\r\n\t\t\t\t\t\t\tif (item.children) {\r\n\t\t\t\t\t\t\t\tsetDisplayChildren({\r\n\t\t\t\t\t\t\t\t\t...displayChildren,\r\n\t\t\t\t\t\t\t\t\t[item._id]: !displayChildren[item._id],\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t// mở file\r\n\t\t\t\t\t\t\t\t// có thể dùng custom event thay cho context (dispatch ở đây và bên MainContent thêm 1 custom event)\r\n\t\t\t\t\t\t\t\t// toast.info(`${item.name} current active!`, {\r\n\t\t\t\t\t\t\t\t// \tposition: toast.POSITION.BOTTOM_CENTER,\r\n\t\t\t\t\t\t\t\t// });\r\n\r\n\t\t\t\t\t\t\t\tcontext.onclickSubItem(item);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<ContextMenuTrigger id={`#${item._id}`}>\r\n\t\t\t\t\t\t\t<div className={styles[\"main\"]}>\r\n\t\t\t\t\t\t\t\t<div className={styles[\"item_icon\"]}>\r\n\t\t\t\t\t\t\t\t\t{item.children ? (\r\n\t\t\t\t\t\t\t\t\t\tdisplayChildren[item._id] ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='#eab308'\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon={faFolderOpen}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor='#ca8a04'\r\n\t\t\t\t\t\t\t\t\t\t\t\ticon={faFolder}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\t\tcolor='#f1f5f9'\r\n\t\t\t\t\t\t\t\t\t\t\ticon={faFile}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{/* xac dinh vi tri hien o input */}\r\n\t\t\t\t\t\t\t\t{contentEditable._id === item._id ? (\r\n\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\t\t\t\t\t\tstyleWrapper={\r\n\t\t\t\t\t\t\t\t\t\t\tsidebarStyles[\"input-wrraper\"]\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tclassName={sidebarStyles[\"input\"]}\r\n\t\t\t\t\t\t\t\t\t\tonBlur={async (e) => {\r\n\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\tif (e.target.value) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlet newData = await Rename(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpath: item.path,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpaginations,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\te.target.value\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplayload: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpaginations:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewData.paginations,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: newData.data,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetContentEditable({});\r\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"renamed\");\r\n\t\t\t\t\t\t\t\t\t\t\t} else setContentEditable({});\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName={styles[\"title\"]}\r\n\t\t\t\t\t\t\t\t\t\ttitle={item.name}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{item.name}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</ContextMenuTrigger>\r\n\t\t\t\t\t\t<ContextMenu\r\n\t\t\t\t\t\t\tid={`#${item._id}`}\r\n\t\t\t\t\t\t\tclassName={sidebarStyles[\"context_menu_warpper\"]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{item.children && (\r\n\t\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\tsidebarStyles[\"context_menu_item\"]\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t// mở submenu và thêm ô input vào trong\r\n\r\n\t\t\t\t\t\t\t\t\t\t!displayChildren[item._id] &&\r\n\t\t\t\t\t\t\t\t\t\t\tsetDisplayChildren({\r\n\t\t\t\t\t\t\t\t\t\t\t\t...displayChildren,\r\n\t\t\t\t\t\t\t\t\t\t\t\t[item._id]:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!displayChildren[item._id],\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t// showAT xac dinh dung noi input can hien\r\n\t\t\t\t\t\t\t\t\t\tsetShowInput({\r\n\t\t\t\t\t\t\t\t\t\t\tshowAt: item._id,\r\n\t\t\t\t\t\t\t\t\t\t\ttype: \"CREATE_FILE\",\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder: \"create new file\",\r\n\t\t\t\t\t\t\t\t\t\t\tpath: item.path,\r\n\t\t\t\t\t\t\t\t\t\t\tisShow: true,\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon icon={faFileCirclePlus} />{\" \"}\r\n\t\t\t\t\t\t\t\t\t<span>new file</span>\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{item.children && (\r\n\t\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\t\tclassName={\r\n\t\t\t\t\t\t\t\t\t\tsidebarStyles[\"context_menu_item\"]\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tonClick={(e, data) => {\r\n\t\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t// chỉ mở subfolder nếu nó chưa đc mở. (nếu ko có đều kiện  này (!displayChildren[item._id]&& ...) thì khi folder đang mở sẽ bị đóng khi click menu item này)\r\n\t\t\t\t\t\t\t\t\t\t!displayChildren[item._id] &&\r\n\t\t\t\t\t\t\t\t\t\t\tsetDisplayChildren({\r\n\t\t\t\t\t\t\t\t\t\t\t\t...displayChildren,\r\n\t\t\t\t\t\t\t\t\t\t\t\t[item._id]:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!displayChildren[item._id],\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t\t\t\tsetShowInput({\r\n\t\t\t\t\t\t\t\t\t\t\tshowAt: item._id,\r\n\t\t\t\t\t\t\t\t\t\t\ttype: \"CREATE_FOLDER\",\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder: \"create new group\",\r\n\t\t\t\t\t\t\t\t\t\t\tpath: item.path,\r\n\t\t\t\t\t\t\t\t\t\t\tisShow: true,\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\t\tcolor='#ca8a04'\r\n\t\t\t\t\t\t\t\t\t\ticon={faFolderPlus}\r\n\t\t\t\t\t\t\t\t\t/>{\" \"}\r\n\t\t\t\t\t\t\t\t\t<span>new group</span>\r\n\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\tclassName={sidebarStyles[\"context_menu_item\"]}\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t\tsetContentEditable({ _id: item._id });\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\tcolor='#1db489'\r\n\t\t\t\t\t\t\t\t\ticon={faFileEdit}\r\n\t\t\t\t\t\t\t\t/>{\" \"}\r\n\t\t\t\t\t\t\t\t<span>rename</span>\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t<MenuItem\r\n\t\t\t\t\t\t\t\tclassName={sidebarStyles[\"context_menu_item\"]}\r\n\t\t\t\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t\ttoast(\r\n\t\t\t\t\t\t\t\t\t\t<Confirm\r\n\t\t\t\t\t\t\t\t\t\t\tcustomMsg={`${item.name}`}\r\n\t\t\t\t\t\t\t\t\t\t\tfn={async () => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlet type = item.isFolder\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t? \"DELETE_FOLDER\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t: \"DELETE_FILE\";\r\n\t\t\t\t\t\t\t\t\t\t\t\tlet newData = await Remove({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpath: item.path,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttype,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpaginations,\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tplayload: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tpaginations:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewData.paginations,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: newData.data,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<FontAwesomeIcon\r\n\t\t\t\t\t\t\t\t\tcolor='#b91c1c'\r\n\t\t\t\t\t\t\t\t\ticon={faTrashCan}\r\n\t\t\t\t\t\t\t\t/>{\" \"}\r\n\t\t\t\t\t\t\t\t<span>remove</span>\r\n\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t</ContextMenu>\r\n\t\t\t\t\t\t{/* render nội dung nếu item là 1 group và chưa đc mở . nếu mở thì đóng */}\r\n\t\t\t\t\t\t{displayChildren[item._id] && item.children && (\r\n\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t{/* hiện ô input nếu khi click context menu item */}\r\n\t\t\t\t\t\t\t\t{showInput.isShow &&\r\n\t\t\t\t\t\t\t\t\tshowInput.showAt === item._id && (\r\n\t\t\t\t\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\t\t\t\t\t\t\tstyleWrapper={\r\n\t\t\t\t\t\t\t\t\t\t\t\tsidebarStyles[\"input-wrraper\"]\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={sidebarStyles[\"input\"]}\r\n\t\t\t\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\t\t\t\tplaceholder={`${showInput.placeholder}`}\r\n\t\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t\t\tonBlur={async (e) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (e.target.value) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet _id = nanoid(5);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// đoạn này ok , tra về kết quả mong muốn (th : thêm data ở root)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlet newData = await Add(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpath: showInput.path,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: showInput.type,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpaginations,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t_id,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname: e.target\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.value,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplayload: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tpaginations:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tnewData.paginations,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tdata: newData.data,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetShowInput({});\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetShowInput({});\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<List\r\n\t\t\t\t\t\t\t\t\tdispatch={dispatch}\r\n\t\t\t\t\t\t\t\t\tpaginations={paginations}\r\n\t\t\t\t\t\t\t\t\titems={item.children}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t);\r\n\t\t\t})}\r\n\t\t</ul>\r\n\t);\r\n}\r\n\r\nexport default List;\r\n","import { nanoid } from \"nanoid\";\r\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\r\nimport { useState, useEffect, useReducer } from \"react\";\r\nimport Input from \"../../Input\";\r\n// import Item from \"./Item\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n\tfaFileCirclePlus,\r\n\tfaFolderPlus,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport sidebarStyles from \"./../Sidebar.module.scss\";\r\n\r\nimport styles from \"./Sidebar_Note.module.scss\";\r\nimport { RefeachDataAt, reRenderPage, Add } from \"./actions\";\r\nimport List from \"./List\";\r\nconst reducerFn = (state, action) => {\r\n\tswitch (action.type) {\r\n\t\tcase \"go_to_page\":\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpaginations: {\r\n\t\t\t\t\t...state.paginations,\r\n\t\t\t\t\tpage: action.playload.toPage,\r\n\t\t\t\t},\r\n\t\t\t\tdatas: action.playload.data,\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tpaginations: {\r\n\t\t\t\t\t...state.paginations,\r\n\t\t\t\t\t...action.playload.paginations,\r\n\t\t\t\t},\r\n\t\t\t\tdatas: action.playload.data,\r\n\t\t\t};\r\n\t}\r\n};\r\nconst initState = {\r\n\tpaginations: {\r\n\t\tpage: 1,\r\n\t\titemPerPage: 5,\r\n\t\ttoltalPage: null,\r\n\t\ttoltalRecords: null,\r\n\t},\r\n\tdatas: [],\r\n};\r\nfunction SidebarNote() {\r\n\tconsole.log(\"note!!!\");\r\n\tconst [data, dispatch] = useReducer(reducerFn, initState);\r\n\tconst [showInput, setShowInput] = useState({});\r\n\t// sau khi mount , get data => re-render ui\r\n\tuseEffect(() => {\r\n\t\t(async () => {\r\n\t\t\tlet newData = await RefeachDataAt({\r\n\t\t\t\tdb_name: \"folders\",\r\n\t\t\t\tpaginations: data.paginations,\r\n\t\t\t});\r\n\t\t\tdispatch({\r\n\t\t\t\tplayload: {\r\n\t\t\t\t\tpaginations: newData.paginations,\r\n\t\t\t\t\tdata: newData.data,\r\n\t\t\t\t},\r\n\t\t\t});\r\n\t\t})();\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\treturn (\r\n\t\t<div className={styles.wrapper}>\r\n\t\t\t<ContextMenuTrigger id='#root-tree-folder'>\r\n\t\t\t\t<div style={{ marginLeft: \"-16px\" }}>\r\n\t\t\t\t\t<List\r\n\t\t\t\t\t\tdispatch={dispatch}\r\n\t\t\t\t\t\tpaginations={data.paginations}\r\n\t\t\t\t\t\titems={data.datas}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</ContextMenuTrigger>\r\n\t\t\t{showInput.isShow && (\r\n\t\t\t\t<Input\r\n\t\t\t\t\ttabIndex={-1}\r\n\t\t\t\t\tstyleWrapper={sidebarStyles[\"input-wrraper\"]}\r\n\t\t\t\t\tclassName={sidebarStyles[\"input\"]}\r\n\t\t\t\t\ttype='text'\r\n\t\t\t\t\tplaceholder={`${showInput.placeholder}`}\r\n\t\t\t\t\tonBlur={async (e) => {\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\tlet _id = nanoid(5);\r\n\t\t\t\t\t\t// đoạn này ok , tra về kết quả mong muốn (th : thêm data ở root)\r\n\t\t\t\t\t\tif (e.target.value) {\r\n\t\t\t\t\t\t\tlet newData = await Add(\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tpath: \"\",\r\n\t\t\t\t\t\t\t\t\ttype: showInput.type,\r\n\t\t\t\t\t\t\t\t\tpaginations: data.paginations,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t{ _id, name: e.target.value }\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\tdispatch({\r\n\t\t\t\t\t\t\t\tplayload: {\r\n\t\t\t\t\t\t\t\t\tpaginations: newData.paginations,\r\n\t\t\t\t\t\t\t\t\tdata: newData.data,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tsetShowInput({});\r\n\t\t\t\t\t\t} else setShowInput({});\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t\t<ContextMenu\r\n\t\t\t\tid='#root-tree-folder'\r\n\t\t\t\tclassName={sidebarStyles[\"context_menu_warpper\"]}\r\n\t\t\t>\r\n\t\t\t\t<MenuItem\r\n\t\t\t\t\tclassName={sidebarStyles[\"context_menu_item\"]}\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\tsetShowInput({\r\n\t\t\t\t\t\t\ttype: \"CREATE_FILE_AT_ROOT\",\r\n\t\t\t\t\t\t\tisShow: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FontAwesomeIcon icon={faFileCirclePlus} />\r\n\t\t\t\t\t<span>new file</span>\r\n\t\t\t\t</MenuItem>\r\n\t\t\t\t<MenuItem\r\n\t\t\t\t\tclassName={sidebarStyles[\"context_menu_item\"]}\r\n\t\t\t\t\tonClick={(e) => {\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\tsetShowInput({\r\n\t\t\t\t\t\t\ttype: \"CREATE_FOLDER_AT_ROOT\",\r\n\t\t\t\t\t\t\tisShow: true,\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<FontAwesomeIcon color='#ca8a04' icon={faFolderPlus} />\r\n\t\t\t\t\t<span>new group</span>\r\n\t\t\t\t</MenuItem>\r\n\t\t\t</ContextMenu>\r\n\r\n\t\t\t<div className={styles[\"paginations-wrapper\"]}>\r\n\t\t\t\t<Input\r\n\t\t\t\t\tstyleWrapper={styles[\"pagination-input-wrraper\"]}\r\n\t\t\t\t\tclassName={styles[\"paginations-modify-page-input\"]}\r\n\t\t\t\t\ttype='number'\r\n\t\t\t\t\tmin={0}\r\n\t\t\t\t\tmax={data.paginations.toltalPage}\r\n\t\t\t\t\tonChangefn={(e) => {\r\n\t\t\t\t\t\tif (+e) reRenderPage(+e, data.paginations, dispatch);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tplaceholder={data.paginations.page}\r\n\t\t\t\t/>{\" \"}\r\n\t\t\t\tof {data.paginations.toltalPage}/\r\n\t\t\t\t{data.paginations.toltalRecords}\r\n\t\t\t\t<button\r\n\t\t\t\t\tstyle={{ marginLeft: \"8px\", cursor: \"pointer\" }}\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\treRenderPage(\r\n\t\t\t\t\t\t\tdata.paginations.toltalPage,\r\n\t\t\t\t\t\t\tdata.paginations,\r\n\t\t\t\t\t\t\tdispatch\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\tnew\r\n\t\t\t\t</button>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport default SidebarNote;\r\n"],"names":["reRenderPage","_x","_x2","_x3","_reRenderPage","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","toPage","paginations","dispatchCallback","pageSize","data","wrap","_context","prev","next","itemPerPage","Db","offset","limit","toArray","sent","type","playload","stop","RefeachDataAt","_x4","_RefeachDataAt","_callee2","_ref","_ref$db_name","db_name","pageNo","toltalRecords","toltalPage","_context2","page","orderBy","count","Math","ceil","abrupt","Promise","resolve","Add","_x5","_x6","_Add","_callee3","metadata","value","path","_id","name","copyPath","root","result","_context3","split","t0","isFolder","children","equals","modify","obj","refObj","getObjByPath","console","log","push","concat","then","Error","Remove","_x7","_Remove","_callee4","length","RootFolder","deleteRefIDs","_context4","first","delete","getAllValueByKey","updateFolder","slice","filter","item","anyOf","Rename","_x8","_x9","_Rename","_callee5","newName","_context5","List","dispatch","items","_useState","useState","JSON","parse","localStorage","getItem","_useState2","_slicedToArray","displayChildren","setDisplayChildren","_useState3","_useState4","contentEditable","setContentEditable","_useState5","isShow","_useState6","showInput","setShowInput","context","useContext","sidebarContext","useEffect","setItem","stringify","_jsx","className","styles","map","_jsxs","onClick","e","stopPropagation","_objectSpread","_defineProperty","onclickSubItem","ContextMenuTrigger","id","FontAwesomeIcon","color","icon","faFolderOpen","faFolder","faFile","Input","tabIndex","styleWrapper","sidebarStyles","onBlur","_ref2","newData","target","autoFocus","title","ContextMenu","MenuItem","showAt","placeholder","faFileCirclePlus","faFolderPlus","faFileEdit","toast","Confirm","customMsg","fn","faTrashCan","_Fragment","_ref4","nanoid","reducerFn","state","action","datas","initState","_useReducer","useReducer","_useReducer2","style","marginLeft","min","max","onChangefn","cursor"],"sourceRoot":""}